{"mappings":"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","sources":["node_modules/@swc/helpers/lib/_set_prototype_of.js","node_modules/@swc/helpers/lib/_array_with_holes.js","node_modules/@swc/helpers/lib/_iterable_to_array.js","node_modules/@swc/helpers/lib/_non_iterable_rest.js","node_modules/@swc/helpers/lib/_unsupported_iterable_to_array.js","node_modules/@swc/helpers/lib/_array_like_to_array.js","node_modules/@swc/helpers/lib/_array_without_holes.js","node_modules/@swc/helpers/lib/_non_iterable_spread.js","node_modules/@swc/helpers/lib/_is_native_reflect_construct.js","node_modules/@swc/helpers/lib/_get_prototype_of.js","node_modules/@swc/helpers/lib/_possible_constructor_return.js","node_modules/@swc/helpers/lib/_assert_this_initialized.js","node_modules/@swc/helpers/lib/_type_of.js","node_modules/@swc/helpers/lib/_class_call_check.js","node_modules/@swc/helpers/lib/_define_property.js","src/js/points.js","src/js/modelObjectsHandler.js","node_modules/@swc/helpers/lib/_create_class.js","node_modules/@swc/helpers/lib/_inherits.js","node_modules/@swc/helpers/lib/_sliced_to_array.js","node_modules/@swc/helpers/lib/_to_consumable_array.js","node_modules/@swc/helpers/lib/_create_super.js","node_modules/kdbush/src/sort.js","node_modules/kdbush/src/range.js","node_modules/kdbush/src/within.js","node_modules/fast-deep-equal/index.js","node_modules/kdbush/src/index.js","node_modules/supercluster/index.js","<<jsx-config-pragma.js>>","node_modules/@googlemaps/markerclusterer/src/cluster.ts","node_modules/@googlemaps/markerclusterer/src/algorithms/core.ts","node_modules/@googlemaps/markerclusterer/src/algorithms/supercluster.ts","node_modules/@googlemaps/markerclusterer/src/renderer.ts","node_modules/@googlemaps/markerclusterer/src/overlay-view-safe.ts","node_modules/@googlemaps/markerclusterer/src/markerclusterer.ts","src/js/createMap.js","src/js/createGallery.js","src/js/createForm.js","src/js/app.js","src/js/index.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _setPrototypeOf;\nfunction _setPrototypeOf(o, p) {\n    return setPrototypeOf(o, p);\n}\nfunction setPrototypeOf(o1, p1) {\n    setPrototypeOf = Object.setPrototypeOf || function setPrototypeOf(o, p) {\n        o.__proto__ = p;\n        return o;\n    };\n    return setPrototypeOf(o1, p1);\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _arrayWithHoles;\nfunction _arrayWithHoles(arr) {\n    if (Array.isArray(arr)) return arr;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _iterableToArray;\nfunction _iterableToArray(iter) {\n    if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _nonIterableRest;\nfunction _nonIterableRest() {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _unsupportedIterableToArray;\nvar _arrayLikeToArray = _interopRequireDefault(require(\"./_array_like_to_array\"));\nfunction _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return (0, _arrayLikeToArray).default(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(n);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return (0, _arrayLikeToArray).default(o, minLen);\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _arrayLikeToArray;\nfunction _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n    for(var i = 0, arr2 = new Array(len); i < len; i++)arr2[i] = arr[i];\n    return arr2;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _arrayWithoutHoles;\nvar _arrayLikeToArray = _interopRequireDefault(require(\"./_array_like_to_array\"));\nfunction _arrayWithoutHoles(arr) {\n    if (Array.isArray(arr)) return (0, _arrayLikeToArray).default(arr);\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _nonIterableSpread;\nfunction _nonIterableSpread() {\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _isNativeReflectConstruct;\nfunction _isNativeReflectConstruct() {\n    if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n    if (Reflect.construct.sham) return false;\n    if (typeof Proxy === \"function\") return true;\n    try {\n        Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {}));\n        return true;\n    } catch (e) {\n        return false;\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _getPrototypeOf;\nfunction _getPrototypeOf(o) {\n    return getPrototypeOf(o);\n}\nfunction getPrototypeOf(o1) {\n    getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function getPrototypeOf(o) {\n        return o.__proto__ || Object.getPrototypeOf(o);\n    };\n    return getPrototypeOf(o1);\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _possibleConstructorReturn;\nvar _assertThisInitialized = _interopRequireDefault(require(\"./_assert_this_initialized\"));\nvar _typeOf = _interopRequireDefault(require(\"./_type_of\"));\nfunction _possibleConstructorReturn(self, call) {\n    if (call && ((0, _typeOf).default(call) === \"object\" || typeof call === \"function\")) {\n        return call;\n    }\n    return (0, _assertThisInitialized).default(self);\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _assertThisInitialized;\nfunction _assertThisInitialized(self) {\n    if (self === void 0) {\n        throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n    return self;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _typeof;\nfunction _typeof(obj) {\n    \"@swc/helpers - typeof\";\n    return obj && obj.constructor === Symbol ? \"symbol\" : typeof obj;\n}\n;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classCallCheck;\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError(\"Cannot call a class as a function\");\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _defineProperty;\nfunction _defineProperty(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\n","const points = [\n  { id: 1, lat: 50.3864813, lng: 30.4610184 },\n  { id: 2, lat: 50.3893584, lng: 30.4744418 },\n  { id: 3, lat: 50.3766632, lng: 30.4545341 },\n  { id: 4, lat: 50.3871685, lng: 30.4633948 },\n  { id: 5, lat: 50.3839428, lng: 30.4448406 },\n  { id: 6, lat: 50.3950753, lng: 30.5020464 },\n  { id: 7, lat: 50.3932314, lng: 30.4851096 },\n  { id: 8, lat: 50.3932962, lng: 30.4808875 },\n  { id: 9, lat: 50.3850642, lng: 30.4800686 },\n  { id: 10, lat: 50.3852944, lng: 30.4568793 },\n  { id: 11, lat: 50.383335, lng: 30.4582703 },\n];\n\nconst apartments = [\n  {\n    id: 1,\n    title: 'Вільямса, 9',\n    image:\n      'https://images.pexels.com/photos/271624/pexels-photo-271624.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1',\n    description:\n      'Lorem ipsum dolor, sit amet consectetur adipisicing elit. Sint tempore quidem aliquam, vero itaque architecto qui minima hic saepe placeat?',\n  },\n  {\n    id: 2,\n    title: 'Ломоносова, 38',\n    image:\n      'https://images.pexels.com/photos/1643383/pexels-photo-1643383.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1',\n    description:\n      'Lorem ipsum dolor, sit amet consectetur adipisicing elit. Sint tempore quidem aliquam, vero itaque architecto qui minima hic saepe placeat?',\n  },\n  {\n    id: 3,\n    title: 'Касьяна, 20',\n    image:\n      'https://images.pexels.com/photos/667838/pexels-photo-667838.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1',\n    description:\n      'Lorem ipsum dolor, sit amet consectetur adipisicing elit. Sint tempore quidem aliquam, vero itaque architecto qui minima hic saepe placeat?',\n  },\n  {\n    id: 4,\n    title: 'Мейтуса, 10',\n    image:\n      'https://images.pexels.com/photos/245208/pexels-photo-245208.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1',\n    description:\n      'Lorem ipsum dolor, sit amet consectetur adipisicing elit. Sint tempore quidem aliquam, vero itaque architecto qui minima hic saepe placeat?',\n  },\n  {\n    id: 5,\n    title: 'Луценка, 11',\n    image:\n      'https://images.pexels.com/photos/259962/pexels-photo-259962.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1',\n    description:\n      'Lorem ipsum dolor, sit amet consectetur adipisicing elit. Sint tempore quidem aliquam, vero itaque architecto qui minima hic saepe placeat?',\n  },\n  {\n    id: 6,\n    title: 'Васильківська, 11',\n    image:\n      'https://images.pexels.com/photos/439227/pexels-photo-439227.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1',\n    description:\n      'Lorem ipsum dolor, sit amet consectetur adipisicing elit. Sint tempore quidem aliquam, vero itaque architecto qui minima hic saepe placeat?',\n  },\n  {\n    id: 7,\n    title: 'Васильківська, 34',\n    image:\n      'https://images.pexels.com/photos/1669799/pexels-photo-1669799.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1',\n    description:\n      'Lorem ipsum dolor, sit amet consectetur adipisicing elit. Sint tempore quidem aliquam, vero itaque architecto qui minima hic saepe placeat?',\n  },\n  {\n    id: 8,\n    title: 'Максимовича, 4',\n    image:\n      'https://images.pexels.com/photos/1571459/pexels-photo-1571459.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1',\n    description:\n      'Lorem ipsum dolor, sit amet consectetur adipisicing elit. Sint tempore quidem aliquam, vero itaque architecto qui minima hic saepe placeat?',\n  },\n  {\n    id: 9,\n    title: 'Васильківська, 53',\n    image:\n      'https://images.pexels.com/photos/1648771/pexels-photo-1648771.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1',\n    description:\n      'Lorem ipsum dolor, sit amet consectetur adipisicing elit. Sint tempore quidem aliquam, vero itaque architecto qui minima hic saepe placeat?',\n  },\n  {\n    id: 10,\n    title: 'Вільямса, 11',\n    image:\n      'https://images.pexels.com/photos/271743/pexels-photo-271743.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1',\n    description:\n      'Lorem ipsum dolor, sit amet consectetur adipisicing elit. Sint tempore quidem aliquam, vero itaque architecto qui minima hic saepe placeat?',\n  },\n  {\n    id: 11,\n    title: 'Конєва, 10',\n    image:\n      'https://images.pexels.com/photos/265004/pexels-photo-265004.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1',\n    description:\n      'Lorem ipsum dolor, sit amet consectetur adipisicing elit. Sint tempore quidem aliquam, vero itaque architecto qui minima hic saepe placeat?',\n  },\n];\n\nexport { points, apartments };\n","import { points, apartments } from './points';\n\nexport class ModelObjectHandler {\n  initModel = () => {\n    if (JSON.parse(localStorage.getItem('points')) === null) {\n      localStorage.setItem('points', JSON.stringify(points));\n    }\n\n    if (JSON.parse(localStorage.getItem('apartments')) === null) {\n      localStorage.setItem('apartments', JSON.stringify(apartments));\n    }\n  };\n\n  getAllPoints = () => {\n    return JSON.parse(localStorage.getItem('points'));\n  };\n\n  getLastPointId = () => {\n    const pnts = JSON.parse(localStorage.getItem('points'));\n    return pnts[pnts.length - 1].id;\n  };\n\n  getAllApartments = () => {\n    return JSON.parse(localStorage.getItem('apartments'));\n  };\n\n  getApartmentById = id => {\n    const aparts = JSON.parse(localStorage.getItem('apartments'));\n    return [aparts[aparts.findIndex(apartment => apartment.id === id)]];\n  };\n\n  getApartmentsByIdArr = idArr => {\n    return JSON.parse(localStorage.getItem('apartments')).filter(apartment =>\n      idArr.includes(apartment.id)\n    );\n  };\n\n  getVisiblePointsId = rectangle =>\n    JSON.parse(localStorage.getItem('points'))\n      .filter(isInBounds(rectangle))\n      .map(getPointId);\n\n  initBuffer = (lastPointId, { lat, lng }) => {\n    this.bufferObj.status = 'PREPAING';\n    this.bufferObj.id = lastPointId + 1;\n    this.bufferObj.lat = lat;\n    this.bufferObj.lng = lng;\n  };\n\n  addApartmentToBuffer = ({ title, image, description }) => {\n    this.bufferObj.status = 'READY';\n    this.bufferObj.title = title;\n    this.bufferObj.image = image;\n    this.bufferObj.description = description;\n  };\n\n  addNewApartment = ({ id, lat, lng, title, image, description }) => {\n    const currentPoints = JSON.parse(localStorage.getItem('points'));\n    const currentApartments = JSON.parse(localStorage.getItem('apartments'));\n\n    currentPoints.push({ id, lat, lng });\n    currentApartments.push({ id, title, image, description });\n\n    localStorage.setItem('points', JSON.stringify(currentPoints));\n    localStorage.setItem('apartments', JSON.stringify(currentApartments));\n  };\n\n  bufferObj = {\n    status: 'EMPTY',\n    id: null,\n    lat: null,\n    lng: null,\n    title: '',\n    image: '',\n    description: '',\n  };\n}\n\n//STATUS_OF_BUFFER = (EMPTY, PRERAPING, READY);\n\nconst getPointId = point => point.id;\n\nconst isInBounds =\n  ({ south, north, west, east }) =>\n  ({ lat, lng }) =>\n    lng > west && lng < east && lat > south && lat < north;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _createClass;\nfunction _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n}\nfunction _defineProperties(target, props) {\n    for(var i = 0; i < props.length; i++){\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _inherits;\nvar _setPrototypeOf = _interopRequireDefault(require(\"./_set_prototype_of\"));\nfunction _inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n        throw new TypeError(\"Super expression must either be null or a function\");\n    }\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n        constructor: {\n            value: subClass,\n            writable: true,\n            configurable: true\n        }\n    });\n    if (superClass) (0, _setPrototypeOf).default(subClass, superClass);\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _slicedToArray;\nvar _arrayWithHoles = _interopRequireDefault(require(\"./_array_with_holes\"));\nvar _iterableToArray = _interopRequireDefault(require(\"./_iterable_to_array\"));\nvar _nonIterableRest = _interopRequireDefault(require(\"./_non_iterable_rest\"));\nvar _unsupportedIterableToArray = _interopRequireDefault(require(\"./_unsupported_iterable_to_array\"));\nfunction _slicedToArray(arr, i) {\n    return (0, _arrayWithHoles).default(arr) || (0, _iterableToArray).default(arr, i) || (0, _unsupportedIterableToArray).default(arr, i) || (0, _nonIterableRest).default();\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _toConsumableArray;\nvar _arrayWithoutHoles = _interopRequireDefault(require(\"./_array_without_holes\"));\nvar _iterableToArray = _interopRequireDefault(require(\"./_iterable_to_array\"));\nvar _nonIterableSpread = _interopRequireDefault(require(\"./_non_iterable_spread\"));\nvar _unsupportedIterableToArray = _interopRequireDefault(require(\"./_unsupported_iterable_to_array\"));\nfunction _toConsumableArray(arr) {\n    return (0, _arrayWithoutHoles).default(arr) || (0, _iterableToArray).default(arr) || (0, _unsupportedIterableToArray).default(arr) || (0, _nonIterableSpread).default();\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _createSuper;\nvar _isNativeReflectConstruct = _interopRequireDefault(require(\"./_is_native_reflect_construct\"));\nvar _getPrototypeOf = _interopRequireDefault(require(\"./_get_prototype_of\"));\nvar _possibleConstructorReturn = _interopRequireDefault(require(\"./_possible_constructor_return\"));\nfunction _createSuper(Derived) {\n    var hasNativeReflectConstruct = (0, _isNativeReflectConstruct).default();\n    return function _createSuperInternal() {\n        var Super = (0, _getPrototypeOf).default(Derived), result;\n        if (hasNativeReflectConstruct) {\n            var NewTarget = (0, _getPrototypeOf).default(this).constructor;\n            result = Reflect.construct(Super, arguments, NewTarget);\n        } else {\n            result = Super.apply(this, arguments);\n        }\n        return (0, _possibleConstructorReturn).default(this, result);\n    };\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","\nexport default function sortKD(ids, coords, nodeSize, left, right, depth) {\n    if (right - left <= nodeSize) return;\n\n    const m = (left + right) >> 1;\n\n    select(ids, coords, m, left, right, depth % 2);\n\n    sortKD(ids, coords, nodeSize, left, m - 1, depth + 1);\n    sortKD(ids, coords, nodeSize, m + 1, right, depth + 1);\n}\n\nfunction select(ids, coords, k, left, right, inc) {\n\n    while (right > left) {\n        if (right - left > 600) {\n            const n = right - left + 1;\n            const m = k - left + 1;\n            const z = Math.log(n);\n            const s = 0.5 * Math.exp(2 * z / 3);\n            const sd = 0.5 * Math.sqrt(z * s * (n - s) / n) * (m - n / 2 < 0 ? -1 : 1);\n            const newLeft = Math.max(left, Math.floor(k - m * s / n + sd));\n            const newRight = Math.min(right, Math.floor(k + (n - m) * s / n + sd));\n            select(ids, coords, k, newLeft, newRight, inc);\n        }\n\n        const t = coords[2 * k + inc];\n        let i = left;\n        let j = right;\n\n        swapItem(ids, coords, left, k);\n        if (coords[2 * right + inc] > t) swapItem(ids, coords, left, right);\n\n        while (i < j) {\n            swapItem(ids, coords, i, j);\n            i++;\n            j--;\n            while (coords[2 * i + inc] < t) i++;\n            while (coords[2 * j + inc] > t) j--;\n        }\n\n        if (coords[2 * left + inc] === t) swapItem(ids, coords, left, j);\n        else {\n            j++;\n            swapItem(ids, coords, j, right);\n        }\n\n        if (j <= k) left = j + 1;\n        if (k <= j) right = j - 1;\n    }\n}\n\nfunction swapItem(ids, coords, i, j) {\n    swap(ids, i, j);\n    swap(coords, 2 * i, 2 * j);\n    swap(coords, 2 * i + 1, 2 * j + 1);\n}\n\nfunction swap(arr, i, j) {\n    const tmp = arr[i];\n    arr[i] = arr[j];\n    arr[j] = tmp;\n}\n","\nexport default function range(ids, coords, minX, minY, maxX, maxY, nodeSize) {\n    const stack = [0, ids.length - 1, 0];\n    const result = [];\n    let x, y;\n\n    while (stack.length) {\n        const axis = stack.pop();\n        const right = stack.pop();\n        const left = stack.pop();\n\n        if (right - left <= nodeSize) {\n            for (let i = left; i <= right; i++) {\n                x = coords[2 * i];\n                y = coords[2 * i + 1];\n                if (x >= minX && x <= maxX && y >= minY && y <= maxY) result.push(ids[i]);\n            }\n            continue;\n        }\n\n        const m = Math.floor((left + right) / 2);\n\n        x = coords[2 * m];\n        y = coords[2 * m + 1];\n\n        if (x >= minX && x <= maxX && y >= minY && y <= maxY) result.push(ids[m]);\n\n        const nextAxis = (axis + 1) % 2;\n\n        if (axis === 0 ? minX <= x : minY <= y) {\n            stack.push(left);\n            stack.push(m - 1);\n            stack.push(nextAxis);\n        }\n        if (axis === 0 ? maxX >= x : maxY >= y) {\n            stack.push(m + 1);\n            stack.push(right);\n            stack.push(nextAxis);\n        }\n    }\n\n    return result;\n}\n","\nexport default function within(ids, coords, qx, qy, r, nodeSize) {\n    const stack = [0, ids.length - 1, 0];\n    const result = [];\n    const r2 = r * r;\n\n    while (stack.length) {\n        const axis = stack.pop();\n        const right = stack.pop();\n        const left = stack.pop();\n\n        if (right - left <= nodeSize) {\n            for (let i = left; i <= right; i++) {\n                if (sqDist(coords[2 * i], coords[2 * i + 1], qx, qy) <= r2) result.push(ids[i]);\n            }\n            continue;\n        }\n\n        const m = Math.floor((left + right) / 2);\n\n        const x = coords[2 * m];\n        const y = coords[2 * m + 1];\n\n        if (sqDist(x, y, qx, qy) <= r2) result.push(ids[m]);\n\n        const nextAxis = (axis + 1) % 2;\n\n        if (axis === 0 ? qx - r <= x : qy - r <= y) {\n            stack.push(left);\n            stack.push(m - 1);\n            stack.push(nextAxis);\n        }\n        if (axis === 0 ? qx + r >= x : qy + r >= y) {\n            stack.push(m + 1);\n            stack.push(right);\n            stack.push(nextAxis);\n        }\n    }\n\n    return result;\n}\n\nfunction sqDist(ax, ay, bx, by) {\n    const dx = ax - bx;\n    const dy = ay - by;\n    return dx * dx + dy * dy;\n}\n","'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n","\nimport sort from './sort';\nimport range from './range';\nimport within from './within';\n\nconst defaultGetX = p => p[0];\nconst defaultGetY = p => p[1];\n\nexport default class KDBush {\n    constructor(points, getX = defaultGetX, getY = defaultGetY, nodeSize = 64, ArrayType = Float64Array) {\n        this.nodeSize = nodeSize;\n        this.points = points;\n\n        const IndexArrayType = points.length < 65536 ? Uint16Array : Uint32Array;\n\n        const ids = this.ids = new IndexArrayType(points.length);\n        const coords = this.coords = new ArrayType(points.length * 2);\n\n        for (let i = 0; i < points.length; i++) {\n            ids[i] = i;\n            coords[2 * i] = getX(points[i]);\n            coords[2 * i + 1] = getY(points[i]);\n        }\n\n        sort(ids, coords, nodeSize, 0, ids.length - 1, 0);\n    }\n\n    range(minX, minY, maxX, maxY) {\n        return range(this.ids, this.coords, minX, minY, maxX, maxY, this.nodeSize);\n    }\n\n    within(x, y, r) {\n        return within(this.ids, this.coords, x, y, r, this.nodeSize);\n    }\n}\n","\nimport KDBush from 'kdbush';\n\nconst defaultOptions = {\n    minZoom: 0,   // min zoom to generate clusters on\n    maxZoom: 16,  // max zoom level to cluster the points on\n    minPoints: 2, // minimum points to form a cluster\n    radius: 40,   // cluster radius in pixels\n    extent: 512,  // tile extent (radius is calculated relative to it)\n    nodeSize: 64, // size of the KD-tree leaf node, affects performance\n    log: false,   // whether to log timing info\n\n    // whether to generate numeric ids for input features (in vector tiles)\n    generateId: false,\n\n    // a reduce function for calculating custom cluster properties\n    reduce: null, // (accumulated, props) => { accumulated.sum += props.sum; }\n\n    // properties to use for individual points when running the reducer\n    map: props => props // props => ({sum: props.my_value})\n};\n\nconst fround = Math.fround || (tmp => ((x) => { tmp[0] = +x; return tmp[0]; }))(new Float32Array(1));\n\nexport default class Supercluster {\n    constructor(options) {\n        this.options = extend(Object.create(defaultOptions), options);\n        this.trees = new Array(this.options.maxZoom + 1);\n    }\n\n    load(points) {\n        const {log, minZoom, maxZoom, nodeSize} = this.options;\n\n        if (log) console.time('total time');\n\n        const timerId = `prepare ${  points.length  } points`;\n        if (log) console.time(timerId);\n\n        this.points = points;\n\n        // generate a cluster object for each point and index input points into a KD-tree\n        let clusters = [];\n        for (let i = 0; i < points.length; i++) {\n            if (!points[i].geometry) continue;\n            clusters.push(createPointCluster(points[i], i));\n        }\n        this.trees[maxZoom + 1] = new KDBush(clusters, getX, getY, nodeSize, Float32Array);\n\n        if (log) console.timeEnd(timerId);\n\n        // cluster points on max zoom, then cluster the results on previous zoom, etc.;\n        // results in a cluster hierarchy across zoom levels\n        for (let z = maxZoom; z >= minZoom; z--) {\n            const now = +Date.now();\n\n            // create a new set of clusters for the zoom and index them with a KD-tree\n            clusters = this._cluster(clusters, z);\n            this.trees[z] = new KDBush(clusters, getX, getY, nodeSize, Float32Array);\n\n            if (log) console.log('z%d: %d clusters in %dms', z, clusters.length, +Date.now() - now);\n        }\n\n        if (log) console.timeEnd('total time');\n\n        return this;\n    }\n\n    getClusters(bbox, zoom) {\n        let minLng = ((bbox[0] + 180) % 360 + 360) % 360 - 180;\n        const minLat = Math.max(-90, Math.min(90, bbox[1]));\n        let maxLng = bbox[2] === 180 ? 180 : ((bbox[2] + 180) % 360 + 360) % 360 - 180;\n        const maxLat = Math.max(-90, Math.min(90, bbox[3]));\n\n        if (bbox[2] - bbox[0] >= 360) {\n            minLng = -180;\n            maxLng = 180;\n        } else if (minLng > maxLng) {\n            const easternHem = this.getClusters([minLng, minLat, 180, maxLat], zoom);\n            const westernHem = this.getClusters([-180, minLat, maxLng, maxLat], zoom);\n            return easternHem.concat(westernHem);\n        }\n\n        const tree = this.trees[this._limitZoom(zoom)];\n        const ids = tree.range(lngX(minLng), latY(maxLat), lngX(maxLng), latY(minLat));\n        const clusters = [];\n        for (const id of ids) {\n            const c = tree.points[id];\n            clusters.push(c.numPoints ? getClusterJSON(c) : this.points[c.index]);\n        }\n        return clusters;\n    }\n\n    getChildren(clusterId) {\n        const originId = this._getOriginId(clusterId);\n        const originZoom = this._getOriginZoom(clusterId);\n        const errorMsg = 'No cluster with the specified id.';\n\n        const index = this.trees[originZoom];\n        if (!index) throw new Error(errorMsg);\n\n        const origin = index.points[originId];\n        if (!origin) throw new Error(errorMsg);\n\n        const r = this.options.radius / (this.options.extent * Math.pow(2, originZoom - 1));\n        const ids = index.within(origin.x, origin.y, r);\n        const children = [];\n        for (const id of ids) {\n            const c = index.points[id];\n            if (c.parentId === clusterId) {\n                children.push(c.numPoints ? getClusterJSON(c) : this.points[c.index]);\n            }\n        }\n\n        if (children.length === 0) throw new Error(errorMsg);\n\n        return children;\n    }\n\n    getLeaves(clusterId, limit, offset) {\n        limit = limit || 10;\n        offset = offset || 0;\n\n        const leaves = [];\n        this._appendLeaves(leaves, clusterId, limit, offset, 0);\n\n        return leaves;\n    }\n\n    getTile(z, x, y) {\n        const tree = this.trees[this._limitZoom(z)];\n        const z2 = Math.pow(2, z);\n        const {extent, radius} = this.options;\n        const p = radius / extent;\n        const top = (y - p) / z2;\n        const bottom = (y + 1 + p) / z2;\n\n        const tile = {\n            features: []\n        };\n\n        this._addTileFeatures(\n            tree.range((x - p) / z2, top, (x + 1 + p) / z2, bottom),\n            tree.points, x, y, z2, tile);\n\n        if (x === 0) {\n            this._addTileFeatures(\n                tree.range(1 - p / z2, top, 1, bottom),\n                tree.points, z2, y, z2, tile);\n        }\n        if (x === z2 - 1) {\n            this._addTileFeatures(\n                tree.range(0, top, p / z2, bottom),\n                tree.points, -1, y, z2, tile);\n        }\n\n        return tile.features.length ? tile : null;\n    }\n\n    getClusterExpansionZoom(clusterId) {\n        let expansionZoom = this._getOriginZoom(clusterId) - 1;\n        while (expansionZoom <= this.options.maxZoom) {\n            const children = this.getChildren(clusterId);\n            expansionZoom++;\n            if (children.length !== 1) break;\n            clusterId = children[0].properties.cluster_id;\n        }\n        return expansionZoom;\n    }\n\n    _appendLeaves(result, clusterId, limit, offset, skipped) {\n        const children = this.getChildren(clusterId);\n\n        for (const child of children) {\n            const props = child.properties;\n\n            if (props && props.cluster) {\n                if (skipped + props.point_count <= offset) {\n                    // skip the whole cluster\n                    skipped += props.point_count;\n                } else {\n                    // enter the cluster\n                    skipped = this._appendLeaves(result, props.cluster_id, limit, offset, skipped);\n                    // exit the cluster\n                }\n            } else if (skipped < offset) {\n                // skip a single point\n                skipped++;\n            } else {\n                // add a single point\n                result.push(child);\n            }\n            if (result.length === limit) break;\n        }\n\n        return skipped;\n    }\n\n    _addTileFeatures(ids, points, x, y, z2, tile) {\n        for (const i of ids) {\n            const c = points[i];\n            const isCluster = c.numPoints;\n\n            let tags, px, py;\n            if (isCluster) {\n                tags = getClusterProperties(c);\n                px = c.x;\n                py = c.y;\n            } else {\n                const p = this.points[c.index];\n                tags = p.properties;\n                px = lngX(p.geometry.coordinates[0]);\n                py = latY(p.geometry.coordinates[1]);\n            }\n\n            const f = {\n                type: 1,\n                geometry: [[\n                    Math.round(this.options.extent * (px * z2 - x)),\n                    Math.round(this.options.extent * (py * z2 - y))\n                ]],\n                tags\n            };\n\n            // assign id\n            let id;\n            if (isCluster) {\n                id = c.id;\n            } else if (this.options.generateId) {\n                // optionally generate id\n                id = c.index;\n            } else if (this.points[c.index].id) {\n                // keep id if already assigned\n                id = this.points[c.index].id;\n            }\n\n            if (id !== undefined) f.id = id;\n\n            tile.features.push(f);\n        }\n    }\n\n    _limitZoom(z) {\n        return Math.max(this.options.minZoom, Math.min(Math.floor(+z), this.options.maxZoom + 1));\n    }\n\n    _cluster(points, zoom) {\n        const clusters = [];\n        const {radius, extent, reduce, minPoints} = this.options;\n        const r = radius / (extent * Math.pow(2, zoom));\n\n        // loop through each point\n        for (let i = 0; i < points.length; i++) {\n            const p = points[i];\n            // if we've already visited the point at this zoom level, skip it\n            if (p.zoom <= zoom) continue;\n            p.zoom = zoom;\n\n            // find all nearby points\n            const tree = this.trees[zoom + 1];\n            const neighborIds = tree.within(p.x, p.y, r);\n\n            const numPointsOrigin = p.numPoints || 1;\n            let numPoints = numPointsOrigin;\n\n            // count the number of points in a potential cluster\n            for (const neighborId of neighborIds) {\n                const b = tree.points[neighborId];\n                // filter out neighbors that are already processed\n                if (b.zoom > zoom) numPoints += b.numPoints || 1;\n            }\n\n            // if there were neighbors to merge, and there are enough points to form a cluster\n            if (numPoints > numPointsOrigin && numPoints >= minPoints) {\n                let wx = p.x * numPointsOrigin;\n                let wy = p.y * numPointsOrigin;\n\n                let clusterProperties = reduce && numPointsOrigin > 1 ? this._map(p, true) : null;\n\n                // encode both zoom and point index on which the cluster originated -- offset by total length of features\n                const id = (i << 5) + (zoom + 1) + this.points.length;\n\n                for (const neighborId of neighborIds) {\n                    const b = tree.points[neighborId];\n\n                    if (b.zoom <= zoom) continue;\n                    b.zoom = zoom; // save the zoom (so it doesn't get processed twice)\n\n                    const numPoints2 = b.numPoints || 1;\n                    wx += b.x * numPoints2; // accumulate coordinates for calculating weighted center\n                    wy += b.y * numPoints2;\n\n                    b.parentId = id;\n\n                    if (reduce) {\n                        if (!clusterProperties) clusterProperties = this._map(p, true);\n                        reduce(clusterProperties, this._map(b));\n                    }\n                }\n\n                p.parentId = id;\n                clusters.push(createCluster(wx / numPoints, wy / numPoints, id, numPoints, clusterProperties));\n\n            } else { // left points as unclustered\n                clusters.push(p);\n\n                if (numPoints > 1) {\n                    for (const neighborId of neighborIds) {\n                        const b = tree.points[neighborId];\n                        if (b.zoom <= zoom) continue;\n                        b.zoom = zoom;\n                        clusters.push(b);\n                    }\n                }\n            }\n        }\n\n        return clusters;\n    }\n\n    // get index of the point from which the cluster originated\n    _getOriginId(clusterId) {\n        return (clusterId - this.points.length) >> 5;\n    }\n\n    // get zoom of the point from which the cluster originated\n    _getOriginZoom(clusterId) {\n        return (clusterId - this.points.length) % 32;\n    }\n\n    _map(point, clone) {\n        if (point.numPoints) {\n            return clone ? extend({}, point.properties) : point.properties;\n        }\n        const original = this.points[point.index].properties;\n        const result = this.options.map(original);\n        return clone && result === original ? extend({}, result) : result;\n    }\n}\n\nfunction createCluster(x, y, id, numPoints, properties) {\n    return {\n        x: fround(x), // weighted cluster center; round for consistency with Float32Array index\n        y: fround(y),\n        zoom: Infinity, // the last zoom the cluster was processed at\n        id, // encodes index of the first child of the cluster and its zoom level\n        parentId: -1, // parent cluster id\n        numPoints,\n        properties\n    };\n}\n\nfunction createPointCluster(p, id) {\n    const [x, y] = p.geometry.coordinates;\n    return {\n        x: fround(lngX(x)), // projected point coordinates\n        y: fround(latY(y)),\n        zoom: Infinity, // the last zoom the point was processed at\n        index: id, // index of the source feature in the original input array,\n        parentId: -1 // parent cluster id\n    };\n}\n\nfunction getClusterJSON(cluster) {\n    return {\n        type: 'Feature',\n        id: cluster.id,\n        properties: getClusterProperties(cluster),\n        geometry: {\n            type: 'Point',\n            coordinates: [xLng(cluster.x), yLat(cluster.y)]\n        }\n    };\n}\n\nfunction getClusterProperties(cluster) {\n    const count = cluster.numPoints;\n    const abbrev =\n        count >= 10000 ? `${Math.round(count / 1000)  }k` :\n        count >= 1000 ? `${Math.round(count / 100) / 10  }k` : count;\n    return extend(extend({}, cluster.properties), {\n        cluster: true,\n        cluster_id: cluster.id,\n        point_count: count,\n        point_count_abbreviated: abbrev\n    });\n}\n\n// longitude/latitude to spherical mercator in [0..1] range\nfunction lngX(lng) {\n    return lng / 360 + 0.5;\n}\nfunction latY(lat) {\n    const sin = Math.sin(lat * Math.PI / 180);\n    const y = (0.5 - 0.25 * Math.log((1 + sin) / (1 - sin)) / Math.PI);\n    return y < 0 ? 0 : y > 1 ? 1 : y;\n}\n\n// spherical mercator to longitude/latitude\nfunction xLng(x) {\n    return (x - 0.5) * 360;\n}\nfunction yLat(y) {\n    const y2 = (180 - y * 360) * Math.PI / 180;\n    return 360 * Math.atan(Math.exp(y2)) / Math.PI - 90;\n}\n\nfunction extend(dest, src) {\n    for (const id in src) dest[id] = src[id];\n    return dest;\n}\n\nfunction getX(p) {\n    return p.x;\n}\nfunction getY(p) {\n    return p.y;\n}\n",null,"/**\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport interface ClusterOptions {\n  position?: google.maps.LatLng | google.maps.LatLngLiteral;\n  markers?: google.maps.Marker[];\n}\n\nexport class Cluster {\n  public marker: google.maps.Marker;\n  public readonly markers?: google.maps.Marker[];\n  protected _position: google.maps.LatLng;\n\n  constructor({ markers, position }: ClusterOptions) {\n    this.markers = markers;\n\n    if (position) {\n      if (position instanceof google.maps.LatLng) {\n        this._position = position;\n      } else {\n        this._position = new google.maps.LatLng(position);\n      }\n    }\n  }\n\n  public get bounds(): google.maps.LatLngBounds | undefined {\n    if (this.markers.length === 0 && !this._position) {\n      return undefined;\n    }\n\n    return this.markers.reduce((bounds, marker) => {\n      return bounds.extend(marker.getPosition());\n    }, new google.maps.LatLngBounds(this._position, this._position));\n  }\n\n  public get position(): google.maps.LatLng {\n    return this._position || this.bounds.getCenter();\n  }\n\n  /**\n   * Get the count of **visible** markers.\n   */\n  public get count(): number {\n    return this.markers.filter((m: google.maps.Marker) => m.getVisible())\n      .length;\n  }\n\n  /**\n   * Add a marker to the cluster.\n   */\n  public push(marker: google.maps.Marker): void {\n    this.markers.push(marker);\n  }\n\n  /**\n   * Cleanup references and remove marker from map.\n   */\n  public delete(): void {\n    if (this.marker) {\n      this.marker.setMap(null);\n      delete this.marker;\n    }\n    this.markers.length = 0;\n  }\n}\n","/**\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Cluster } from \"../cluster\";\nimport { filterMarkersToPaddedViewport } from \"./utils\";\n\nexport interface AlgorithmInput {\n  /**\n   * The map containing the markers and clusters.\n   */\n  map: google.maps.Map;\n  /**\n   * An array of markers to be clustered.\n   *\n   * There are some specific edge cases to be aware of including the following:\n   * * Markers that are not visible.\n   */\n  markers: google.maps.Marker[];\n  /**\n   * The `mapCanvasProjection` enables easy conversion from lat/lng to pixel.\n   *\n   * @see [MapCanvasProjection](https://developers.google.com/maps/documentation/javascript/reference/overlay-view#MapCanvasProjection)\n   */\n  mapCanvasProjection: google.maps.MapCanvasProjection;\n}\n\nexport interface AlgorithmOutput {\n  /**\n   * The clusters returned based upon the {@link AlgorithmInput}.\n   */\n  clusters: Cluster[];\n  /**\n   * A boolean flag indicating that the clusters have not changed.\n   */\n  changed?: boolean;\n}\n\nexport interface Algorithm {\n  /**\n   * Calculates an array of {@link Cluster}.\n   */\n  calculate: ({ markers, map }: AlgorithmInput) => AlgorithmOutput;\n}\n\nexport interface AlgorithmOptions {\n  maxZoom?: number;\n}\n/**\n * @hidden\n */\nexport abstract class AbstractAlgorithm implements Algorithm {\n  protected maxZoom: number;\n\n  constructor({ maxZoom = 16 }: AlgorithmOptions) {\n    this.maxZoom = maxZoom;\n  }\n  /**\n   * Helper function to bypass clustering based upon some map state such as\n   * zoom, number of markers, etc.\n   *\n   * ```typescript\n   *  cluster({markers, map}: AlgorithmInput): Cluster[] {\n   *    if (shouldBypassClustering(map)) {\n   *      return this.noop({markers, map})\n   *    }\n   * }\n   * ```\n   */\n  protected noop({ markers }: AlgorithmInput): Cluster[] {\n    return noop(markers);\n  }\n  /**\n   * Calculates an array of {@link Cluster}. Calculate is separate from\n   * {@link cluster} as it does preprocessing on the markers such as filtering\n   * based upon the viewport as in {@link AbstractViewportAlgorithm}. Caching\n   * and other optimizations can also be done here.\n   */\n  public abstract calculate({ markers, map }: AlgorithmInput): AlgorithmOutput;\n\n  /**\n   * Clusters the markers and called from {@link calculate}.\n   */\n  protected abstract cluster({ markers, map }: AlgorithmInput): Cluster[];\n}\n\n/**\n * @hidden\n */\nexport interface ViewportAlgorithmOptions extends AlgorithmOptions {\n  /**\n   * The number of pixels to extend beyond the viewport bounds when filtering\n   * markers prior to clustering.\n   */\n  viewportPadding?: number;\n}\n\n/**\n * Abstract viewport algorithm proves a class to filter markers by a padded\n * viewport. This is a common optimization.\n *\n * @hidden\n */\nexport abstract class AbstractViewportAlgorithm extends AbstractAlgorithm {\n  protected viewportPadding = 60;\n\n  constructor({ viewportPadding = 60, ...options }: ViewportAlgorithmOptions) {\n    super(options);\n    this.viewportPadding = viewportPadding;\n  }\n  public calculate({\n    markers,\n    map,\n    mapCanvasProjection,\n  }: AlgorithmInput): AlgorithmOutput {\n    if (map.getZoom() >= this.maxZoom) {\n      return {\n        clusters: this.noop({\n          markers,\n          map,\n          mapCanvasProjection,\n        }),\n        changed: false,\n      };\n    }\n\n    return {\n      clusters: this.cluster({\n        markers: filterMarkersToPaddedViewport(\n          map,\n          mapCanvasProjection,\n          markers,\n          this.viewportPadding\n        ),\n        map,\n        mapCanvasProjection,\n      }),\n    };\n  }\n  protected abstract cluster({ markers, map }: AlgorithmInput): Cluster[];\n}\n\n/**\n * @hidden\n */\nexport const noop = (markers: google.maps.Marker[]): Cluster[] => {\n  const clusters = markers.map(\n    (marker) =>\n      new Cluster({\n        position: marker.getPosition(),\n        markers: [marker],\n      })\n  );\n  return clusters;\n};\n","/**\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { AbstractAlgorithm, AlgorithmInput, AlgorithmOutput } from \"./core\";\nimport SuperCluster, { ClusterFeature } from \"supercluster\";\n\nimport { Cluster } from \"../cluster\";\nimport equal from \"fast-deep-equal\";\n\nexport type SuperClusterOptions = SuperCluster.Options<\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  { [name: string]: any },\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  { [name: string]: any }\n>;\n\n/**\n * A very fast JavaScript algorithm for geospatial point clustering using KD trees.\n *\n * @see https://www.npmjs.com/package/supercluster for more information on options.\n */\nexport class SuperClusterAlgorithm extends AbstractAlgorithm {\n  protected superCluster: SuperCluster;\n  protected markers: google.maps.Marker[];\n  protected clusters: Cluster[];\n  protected state: { zoom: number };\n\n  constructor({ maxZoom, radius = 60, ...options }: SuperClusterOptions) {\n    super({ maxZoom });\n\n    this.superCluster = new SuperCluster({\n      maxZoom: this.maxZoom,\n      radius,\n      ...options,\n    });\n\n    this.state = { zoom: null };\n  }\n  public calculate(input: AlgorithmInput): AlgorithmOutput {\n    let changed = false;\n\n    if (!equal(input.markers, this.markers)) {\n      changed = true;\n      // TODO use proxy to avoid copy?\n      this.markers = [...input.markers];\n\n      const points = this.markers.map((marker) => {\n        return {\n          type: \"Feature\" as const,\n          geometry: {\n            type: \"Point\" as const,\n            coordinates: [\n              marker.getPosition().lng(),\n              marker.getPosition().lat(),\n            ],\n          },\n          properties: { marker },\n        };\n      });\n\n      this.superCluster.load(points);\n    }\n\n    const state = { zoom: input.map.getZoom() };\n\n    if (!changed) {\n      if (this.state.zoom > this.maxZoom && state.zoom > this.maxZoom) {\n        // still beyond maxZoom, no change\n      } else {\n        changed = changed || !equal(this.state, state);\n      }\n    }\n\n    this.state = state;\n\n    if (changed) {\n      this.clusters = this.cluster(input);\n    }\n\n    return { clusters: this.clusters, changed };\n  }\n\n  public cluster({ map }: AlgorithmInput): Cluster[] {\n    return this.superCluster\n      .getClusters([-180, -90, 180, 90], Math.round(map.getZoom()))\n      .map(this.transformCluster.bind(this));\n  }\n\n  protected transformCluster({\n    geometry: {\n      coordinates: [lng, lat],\n    },\n    properties,\n  }: ClusterFeature<{ marker: google.maps.Marker }>): Cluster {\n    if (properties.cluster) {\n      return new Cluster({\n        markers: this.superCluster\n          .getLeaves(properties.cluster_id, Infinity)\n          .map((leaf) => leaf.properties.marker),\n        position: new google.maps.LatLng({ lat, lng }),\n      });\n    } else {\n      const marker = properties.marker;\n\n      return new Cluster({\n        markers: [marker],\n        position: marker.getPosition(),\n      });\n    }\n  }\n}\n","/**\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Cluster } from \"./cluster\";\n\n/**\n * Provides statistics on all clusters in the current render cycle for use in {@link Renderer.render}.\n */\nexport class ClusterStats {\n  public readonly markers: { sum: number };\n  public readonly clusters: {\n    count: number;\n    markers: {\n      mean: number;\n      sum: number;\n      min: number;\n      max: number;\n    };\n  };\n\n  constructor(markers: google.maps.Marker[], clusters: Cluster[]) {\n    this.markers = { sum: markers.length };\n\n    const clusterMarkerCounts = clusters.map((a) => a.count);\n    const clusterMarkerSum = clusterMarkerCounts.reduce((a, b) => a + b, 0);\n\n    this.clusters = {\n      count: clusters.length,\n      markers: {\n        mean: clusterMarkerSum / clusters.length,\n        sum: clusterMarkerSum,\n        min: Math.min(...clusterMarkerCounts),\n        max: Math.max(...clusterMarkerCounts),\n      },\n    };\n  }\n}\n\nexport interface Renderer {\n  /**\n   * Turn a {@link Cluster} into a `google.maps.Marker`.\n   *\n   * Below is a simple example to create a marker with the number of markers in the cluster as a label.\n   *\n   * ```typescript\n   * return new google.maps.Marker({\n   *   position,\n   *   label: String(markers.length),\n   * });\n   * ```\n   */\n  render(cluster: Cluster, stats: ClusterStats): google.maps.Marker;\n}\n\nexport class DefaultRenderer implements Renderer {\n  /**\n   * The default render function for the library used by {@link MarkerClusterer}.\n   *\n   * Currently set to use the following:\n   *\n   * ```typescript\n   * // change color if this cluster has more markers than the mean cluster\n   * const color =\n   *   count > Math.max(10, stats.clusters.markers.mean)\n   *     ? \"#ff0000\"\n   *     : \"#0000ff\";\n   *\n   * // create svg url with fill color\n   * const svg = window.btoa(`\n   * <svg fill=\"${color}\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 240 240\">\n   *   <circle cx=\"120\" cy=\"120\" opacity=\".6\" r=\"70\" />\n   *   <circle cx=\"120\" cy=\"120\" opacity=\".3\" r=\"90\" />\n   *   <circle cx=\"120\" cy=\"120\" opacity=\".2\" r=\"110\" />\n   *   <circle cx=\"120\" cy=\"120\" opacity=\".1\" r=\"130\" />\n   * </svg>`);\n   *\n   * // create marker using svg icon\n   * return new google.maps.Marker({\n   *   position,\n   *   icon: {\n   *     url: `data:image/svg+xml;base64,${svg}`,\n   *     scaledSize: new google.maps.Size(45, 45),\n   *   },\n   *   label: {\n   *     text: String(count),\n   *     color: \"rgba(255,255,255,0.9)\",\n   *     fontSize: \"12px\",\n   *   },\n   *   // adjust zIndex to be above other markers\n   *   zIndex: 1000 + count,\n   * });\n   * ```\n   */\n  public render(\n    { count, position }: Cluster,\n    stats: ClusterStats\n  ): google.maps.Marker {\n    // change color if this cluster has more markers than the mean cluster\n    const color =\n      count > Math.max(10, stats.clusters.markers.mean) ? \"#ff0000\" : \"#0000ff\";\n\n    // create svg url with fill color\n    const svg = window.btoa(`\n  <svg fill=\"${color}\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 240 240\">\n    <circle cx=\"120\" cy=\"120\" opacity=\".6\" r=\"70\" />\n    <circle cx=\"120\" cy=\"120\" opacity=\".3\" r=\"90\" />\n    <circle cx=\"120\" cy=\"120\" opacity=\".2\" r=\"110\" />\n  </svg>`);\n\n    // create marker using svg icon\n    return new google.maps.Marker({\n      position,\n      icon: {\n        url: `data:image/svg+xml;base64,${svg}`,\n        scaledSize: new google.maps.Size(45, 45),\n      },\n      label: {\n        text: String(count),\n        color: \"rgba(255,255,255,0.9)\",\n        fontSize: \"12px\",\n      },\n      title: `Cluster of ${count} markers`,\n      // adjust zIndex to be above other markers\n      zIndex: Number(google.maps.Marker.MAX_ZINDEX) + count,\n    });\n  }\n}\n","/**\n * Copyright 2019 Google LLC. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// eslint-disable-next-line @typescript-eslint/no-empty-interface\nexport interface OverlayViewSafe extends google.maps.OverlayView {}\n\n/**\n * Extends an object's prototype by another's.\n *\n * @param type1 The Type to be extended.\n * @param type2 The Type to extend with.\n * @ignore\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction extend(type1: any, type2: any): void {\n  /* istanbul ignore next */\n  // eslint-disable-next-line prefer-const\n  for (let property in type2.prototype) {\n    type1.prototype[property] = type2.prototype[property];\n  }\n}\n\n/**\n * @ignore\n */\nexport class OverlayViewSafe {\n  constructor() {\n    // MarkerClusterer implements google.maps.OverlayView interface. We use the\n    // extend function to extend MarkerClusterer with google.maps.OverlayView\n    // because it might not always be available when the code is defined so we\n    // look for it at the last possible moment. If it doesn't exist now then\n    // there is no point going ahead :)\n    extend(OverlayViewSafe, google.maps.OverlayView);\n  }\n}\n","/**\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Algorithm, SuperClusterAlgorithm } from \"./algorithms\";\nimport { ClusterStats, DefaultRenderer, Renderer } from \"./renderer\";\n\nimport { Cluster } from \"./cluster\";\nimport { OverlayViewSafe } from \"./overlay-view-safe\";\n\nexport type onClusterClickHandler = (\n  event: google.maps.MapMouseEvent,\n  cluster: Cluster,\n  map: google.maps.Map\n) => void;\nexport interface MarkerClustererOptions {\n  markers?: google.maps.Marker[];\n  /**\n   * An algorithm to cluster markers. Default is {@link SuperClusterAlgorithm}. Must\n   * provide a `calculate` method accepting {@link AlgorithmInput} and returning\n   * an array of {@link Cluster}.\n   */\n  algorithm?: Algorithm;\n  map?: google.maps.Map | null;\n  /**\n   * An object that converts a {@link Cluster} into a `google.maps.Marker`.\n   * Default is {@link DefaultRenderer}.\n   */\n  renderer?: Renderer;\n  onClusterClick?: onClusterClickHandler;\n}\n\nexport enum MarkerClustererEvents {\n  CLUSTERING_BEGIN = \"clusteringbegin\",\n  CLUSTERING_END = \"clusteringend\",\n  CLUSTER_CLICK = \"click\",\n}\n\nexport const defaultOnClusterClickHandler: onClusterClickHandler = (\n  _: google.maps.MapMouseEvent,\n  cluster: Cluster,\n  map: google.maps.Map\n): void => {\n  map.fitBounds(cluster.bounds);\n};\n/**\n * MarkerClusterer creates and manages per-zoom-level clusters for large amounts\n * of markers. See {@link MarkerClustererOptions} for more details.\n *\n */\nexport class MarkerClusterer extends OverlayViewSafe {\n  /** @see {@link MarkerClustererOptions.onClusterClick} */\n  public onClusterClick: onClusterClickHandler;\n  /** @see {@link MarkerClustererOptions.algorithm} */\n  protected algorithm: Algorithm;\n  protected clusters: Cluster[];\n  protected markers: google.maps.Marker[];\n  /** @see {@link MarkerClustererOptions.renderer} */\n  protected renderer: Renderer;\n  /** @see {@link MarkerClustererOptions.map} */\n  protected map: google.maps.Map | null;\n  /** @see {@link MarkerClustererOptions.maxZoom} */\n  protected idleListener: google.maps.MapsEventListener;\n\n  constructor({\n    map,\n    markers = [],\n    algorithm = new SuperClusterAlgorithm({}),\n    renderer = new DefaultRenderer(),\n    onClusterClick = defaultOnClusterClickHandler,\n  }: MarkerClustererOptions) {\n    super();\n    this.markers = [...markers];\n    this.clusters = [];\n\n    this.algorithm = algorithm;\n    this.renderer = renderer;\n\n    this.onClusterClick = onClusterClick;\n\n    if (map) {\n      this.setMap(map);\n    }\n  }\n\n  public addMarker(marker: google.maps.Marker, noDraw?: boolean): void {\n    if (this.markers.includes(marker)) {\n      return;\n    }\n\n    this.markers.push(marker);\n    if (!noDraw) {\n      this.render();\n    }\n  }\n\n  public addMarkers(markers: google.maps.Marker[], noDraw?: boolean): void {\n    markers.forEach((marker) => {\n      this.addMarker(marker, true);\n    });\n\n    if (!noDraw) {\n      this.render();\n    }\n  }\n\n  public removeMarker(marker: google.maps.Marker, noDraw?: boolean): boolean {\n    const index = this.markers.indexOf(marker);\n\n    if (index === -1) {\n      // Marker is not in our list of markers, so do nothing:\n      return false;\n    }\n\n    marker.setMap(null);\n    this.markers.splice(index, 1); // Remove the marker from the list of managed markers\n\n    if (!noDraw) {\n      this.render();\n    }\n\n    return true;\n  }\n\n  public removeMarkers(\n    markers: google.maps.Marker[],\n    noDraw?: boolean\n  ): boolean {\n    let removed = false;\n\n    markers.forEach((marker) => {\n      removed = this.removeMarker(marker, true) || removed;\n    });\n\n    if (removed && !noDraw) {\n      this.render();\n    }\n\n    return removed;\n  }\n\n  public clearMarkers(noDraw?: boolean): void {\n    this.markers.length = 0;\n\n    if (!noDraw) {\n      this.render();\n    }\n  }\n\n  /**\n   * Recalculates and draws all the marker clusters.\n   */\n  public render(): void {\n    const map = this.getMap();\n    if (map instanceof google.maps.Map && this.getProjection()) {\n      google.maps.event.trigger(\n        this,\n        MarkerClustererEvents.CLUSTERING_BEGIN,\n        this\n      );\n      const { clusters, changed } = this.algorithm.calculate({\n        markers: this.markers,\n        map,\n        mapCanvasProjection: this.getProjection(),\n      });\n\n      // allow algorithms to return flag on whether the clusters/markers have changed\n      if (changed || changed == undefined) {\n        // reset visibility of markers and clusters\n        this.reset();\n\n        // store new clusters\n        this.clusters = clusters;\n\n        this.renderClusters();\n      }\n      google.maps.event.trigger(\n        this,\n        MarkerClustererEvents.CLUSTERING_END,\n        this\n      );\n    }\n  }\n\n  public onAdd(): void {\n    this.idleListener = this.getMap().addListener(\n      \"idle\",\n      this.render.bind(this)\n    );\n    this.render();\n  }\n\n  public onRemove(): void {\n    google.maps.event.removeListener(this.idleListener);\n    this.reset();\n  }\n\n  protected reset(): void {\n    this.markers.forEach((marker) => marker.setMap(null));\n    this.clusters.forEach((cluster) => cluster.delete());\n    this.clusters = [];\n  }\n\n  protected renderClusters(): void {\n    // generate stats to pass to renderers\n    const stats = new ClusterStats(this.markers, this.clusters);\n    const map = this.getMap() as google.maps.Map;\n\n    this.clusters.forEach((cluster) => {\n      if (cluster.markers.length === 1) {\n        cluster.marker = cluster.markers[0];\n      } else {\n        cluster.marker = this.renderer.render(cluster, stats);\n\n        if (this.onClusterClick) {\n          cluster.marker.addListener(\n            \"click\",\n            /* istanbul ignore next */\n            (event: google.maps.MapMouseEvent) => {\n              google.maps.event.trigger(\n                this,\n                MarkerClustererEvents.CLUSTER_CLICK,\n                cluster\n              );\n              this.onClusterClick(event, cluster, map);\n            }\n          );\n        }\n      }\n\n      cluster.marker.setMap(map);\n    });\n  }\n}\n","import { MarkerClusterer } from '@googlemaps/markerclusterer';\n\nexport function createMap(container) {\n  const map = new google.maps.Map(container, {\n    zoom: 16,\n    center: { lat: 50.3864813, lng: 30.4610184 },\n    mapTypeControl: true,\n    mapTypeControlOptions: {\n      style: google.maps.MapTypeControlStyle.HORIZONTAL_BAR,\n      position: google.maps.ControlPosition.TOP_CENTER,\n    },\n    zoomControl: true,\n    zoomControlOptions: {\n      position: google.maps.ControlPosition.LEFT_CENTER,\n    },\n    scaleControl: true,\n    streetViewControl: true,\n    streetViewControlOptions: {\n      position: google.maps.ControlPosition.LEFT_TOP,\n    },\n    fullscreenControl: true,\n  });\n\n  const mapObservers = [];\n\n  const addPoints = points => {\n    const markers = points.map(({ id, lat, lng }) => {\n      const label = id.toString();\n\n      const marker = new google.maps.Marker({\n        position: { lat, lng },\n        label,\n      });\n\n      // вынести колл-бек из лисенера - дать понятное имя\n      // убрать querySelector (document) устранить выход из контекста\n      // 18 - константа зума: сделать константой с понятным именем \"масштаб крупный (уменьшеный)\"\n\n      marker.addListener('click', mapsMouseEvent => {\n        map.setZoom(18);\n        map.setCenter(marker.position);\n\n        const ApartByClickMarketEl = document.querySelector(\n          `[data-id='${marker.label}']`\n        );\n        ApartByClickMarketEl.scrollIntoView(true);\n      });\n\n      return marker;\n    });\n\n    new MarkerClusterer({ markers, map });\n  };\n\n  map.addListener('bounds_changed', boundsChanged);\n\n  setTimeout(() => {\n    console.log('get bounds', map.getBounds().toJSON());\n  }, 3000);\n\n  // разносить подписчиков по типу ивента на этапе подписки\n\n  function boundsChanged() {\n    for (let i = 0; i < mapObservers.length; i++) {\n      if (mapObservers[i].eventName === 'bounds_changed') {\n        mapObservers[i].listener(map.getBounds().toJSON());\n      }\n    }\n  }\n\n  const findNewPoints = request => {\n    return new Promise((resolve, reject) => {\n      var service = new google.maps.places.PlacesService(map);\n\n      service.findPlaceFromQuery(request, function (results, status) {\n        if (status === google.maps.places.PlacesServiceStatus.OK) {\n          createMarker(results[0]);\n          const newPointCoordinates = {\n            lat: results[0].geometry.location.lat(),\n            lng: results[0].geometry.location.lng(),\n          };\n\n          map.setCenter(results[0].geometry.location);\n          resolve(newPointCoordinates);\n        } else {\n          reject(status);\n        }\n      });\n\n      function createMarker(place) {\n        if (!place.geometry || !place.geometry.location) return;\n\n        const marker = new google.maps.Marker({\n          map,\n          position: place.geometry.location,\n        });\n      }\n    });\n  };\n\n  function addEventListener(eventName, listener) {\n    mapObservers.push({ eventName, listener });\n  }\n\n  function removeEventListener(eventName, handler) {}\n\n  return {\n    addPoints,\n    findNewPoints,\n    zoomTo: () => {},\n    addEventListener,\n    removeEventListener,\n  };\n}\n\n//-----------------------------------\n","export class Gallery {\n  itemsGalleryEl = '';\n\n  constructor(root) {\n    this.itemsGalleryEl = document.querySelector(root);\n  }\n\n  renderItemsGallery = apartments => {\n    return apartments\n      .map(apart => {\n        return `\n    <li class=\"item\" data-id=\"${apart.id}\">\n    <img class=\"item__img\" src=\"${apart.image}\" alt=\"\" />\n    <div class=\"item__details\">\n      <h3 class=\"item__title\">${apart.title}</h3>\n      <p class=\"item__description\">${apart.description}</p>\n    </div>\n  </li>\n    `;\n      })\n      .join('');\n  };\n\n  showApartments = apartments => {\n    this.itemsGalleryEl.innerHTML = this.renderItemsGallery(apartments);\n  };\n\n  hideGallery = () => {\n    this.itemsGalleryEl.classList.add('invisible');\n  };\n\n  openGallery = () => {\n    this.itemsGalleryEl.classList.remove('invisible');\n  };\n}\n","export class Form {\n  rootEl = '';\n  ref = {\n    inputAddress: '',\n    inputImageLink: '',\n    inputDescripton: '',\n    buttonSearch: '',\n    stepAdd: [],\n  };\n\n  constructor(root) {\n    this.rootEl = document.querySelector(root);\n    this.hideForm();\n  }\n\n  renderFormToAddNewApartment = (onSubmitSearch, onSubmitAdd) => {\n    this.rootEl.innerHTML = `\n<div class=\"form__wrap\">\n  <h3 class=\"form__title\">Додайте новий об'єкт</h3>\n  <form class=\"form__body\">\n    <label class=\"form__label\">\n      <span class=\"form__text\">Адреса</span>\n      <input class=\"form__field\" type=\"text\" name=\"title\" placeholder=\"назва вулиці, № будинку\" />\n    </label>\n\n    <label class=\"form__label\">\n      <span class=\"form__text invisible\" option=\"stepAdd\">Посилання на фото</span>\n      <input class=\"form__field invisible\" type=\"text\" name=\"image\" option=\"stepAdd\" placeholder=\"посилання на фото\" />\n    </label>\n\n    <label class=\"form__label \">\n      <span class=\"form__text invisible\" option=\"stepAdd\">Опис</span>\n      <textarea\n        class=\"form__field form__field--textarea invisible\"\n        name=\"description\"\n        option=\"stepAdd\"\n        placeholder=\"опис об'єкту\"\n        cols=\"30\"\n        rows=\"10\"\n      ></textarea>\n    </label>\n    <button class=\"form__button form__button--search\" option='step1'>Знайти адресу</button>\n    <button class=\"form__button form__button--save invisible\" type=\"submit\" option='stepAdd'>Додати</button>\n    <div class='form__error'>\n    <p class='error__text--not-found invisible'>Об'єкт не знайдено. Спробуйте ще</p>\n    <p class='error__text--empty-fields invisible'>Заповніть всі поля</p>\n    </div>\n\n  </form>\n</div>\n`;\n    this.ref.inputAddress = this.rootEl.querySelector('input[name=\"title\"]');\n    this.ref.inputImageLink = this.rootEl.querySelector('input[name=\"image\"]');\n    this.ref.inputDescripton = this.rootEl.querySelector(\n      '[name=\"description\"]'\n    );\n    this.ref.buttonSearch = this.rootEl.querySelector('.form__button--search');\n    this.ref.stepAdd = this.rootEl.querySelectorAll('[option=\"stepAdd\"]');\n\n    this.ref.inputAddress.addEventListener('focus', () => {\n      this.ref.inputAddress.value = '';\n      this.hideErrorSearch();\n    });\n\n    this.rootEl\n      .querySelector('.form__button--search')\n      .addEventListener('click', event => {\n        event.preventDefault();\n\n        const title = this.ref.inputAddress.value;\n        onSubmitSearch(title);\n      });\n\n    this.rootEl\n      .querySelector('.form__body')\n      .addEventListener('submit', event => {\n        event.preventDefault();\n\n        const title = event.currentTarget.elements['title'].value;\n        const image = event.currentTarget.elements['image'].value;\n        const description = event.currentTarget.elements['description'].value;\n        onSubmitAdd({ title, image, description });\n      });\n  };\n\n  openFormAfterSearch = () => {\n    this.ref.buttonSearch.classList.add('invisible');\n    this.ref.stepAdd.forEach(item => item.classList.remove('invisible'));\n  };\n\n  hideFormAfterSearch = () => {\n    this.ref.inputAddress.value = '';\n    this.ref.inputImageLink.value = '';\n    this.ref.inputDescripton.value = '';\n    this.ref.buttonSearch.classList.remove('invisible');\n    this.ref.stepAdd.forEach(item => item.classList.add('invisible'));\n  };\n\n  hideForm = () => {\n    this.rootEl.classList.add('invisible');\n  };\n\n  openForm = () => {\n    this.rootEl.classList.remove('invisible');\n  };\n\n  hideErrorSearch = () => {\n    this.rootEl\n      .querySelector('.error__text--not-found')\n      .classList.add('invisible');\n  };\n\n  showErrorSearch = () => {\n    this.rootEl\n      .querySelector('.error__text--not-found')\n      .classList.remove('invisible');\n  };\n}\n","export class App {\n  root = '';\n  rootMap = '';\n  rootGallery = '';\n  rootForm = '';\n\n  constructor(root) {\n    this.root = root;\n  }\n\n  initApp = () => {\n    const markupMap = `\n        <header class=\"container\">\n        <div class=\"header__wrap\">\n            <div class=\"header__logo\">\n                <a class=\"header__link\" href=\"https://www.gup.ua/\">\n                <img\n                    class=\"header__img\"\n                    src=\"https://www.gup.ua/images/logo-ua-razom.svg\"\n                    alt=\"Лого порталу GUP: сервіс прокату і оренди\"\n                /></a>\n            </div>\n            <div class=\"header__menu\">\n                <button type=\"button\" class=\"header__btn\" id=\"add-bulletin\">\n                <span>Здати в оренду</span>\n                </button>\n\n                <div class=\"header__login\">\n                <a class=\"login__link\">\n                <span class=\"login__text\">Увійти</span>\n                </a>\n                </div>\n            </div>\n        </div>\n        </header>\n\n        <div class=\"main container\">\n            <div class=\"main__map\">\n                <div id=\"map\"></div>\n            </div>\n            <div class=\"main__gallery\">\n                <div class=\"form__block\"></div>\n                <ul class=\"item__list\"></ul>\n            </div>\n        </div>\n\n        `;\n\n    document.querySelector(this.root).innerHTML = markupMap;\n  };\n\n  getRootMap() {\n    return document.getElementById('map');\n  }\n\n  getButtonToAddNewApartment() {\n    return document.querySelector('.header__btn');\n  }\n}\n","import { ModelObjectHandler } from './modelObjectsHandler';\nimport { createMap } from './createMap';\nimport { Gallery } from './createGallery';\nimport { Form } from './createForm';\nimport { App } from './app';\n\nfunction main() {\n  const model = new ModelObjectHandler();\n  model.initModel();\n\n  const app = new App('.app');\n  app.initApp();\n\n  const map = createMap(app.getRootMap());\n  const gallery = new Gallery('.item__list');\n  const form = new Form('.form__block');\n\n  const buttonToAddNewApartment = app.getButtonToAddNewApartment();\n  buttonToAddNewApartment.addEventListener('click', () => {\n    form.openForm();\n    gallery.hideGallery();\n  });\n\n  map.addPoints(model.getAllPoints());\n\n  function onBoundsChange(bounds) {\n    const visiblePoints = model.getVisiblePointsId(bounds);\n    gallery.showApartments(model.getApartmentsByIdArr(visiblePoints));\n  }\n\n  map.addEventListener('bounds_changed', onBoundsChange);\n\n  // отказаться от Буфера. каждому шагу свой зен. передавать коордтнаты в скрытое поле формы\n\n  const prepareNewPointAndNewApartmentForm = newPointCoordinates => {\n    model.initBuffer(model.getLastPointId(), newPointCoordinates);\n\n    form.openFormAfterSearch();\n  };\n\n  const searchOnMap = title => {\n    const fields = ['name', 'geometry'];\n    map\n      .findNewPoints({ fields, query: title })\n      .then(prepareNewPointAndNewApartmentForm)\n      .catch(form.showErrorSearch);\n  };\n\n  const prepareNewApartment = ({ title, image, description }) => {\n    model.addApartmentToBuffer({ title, image, description });\n    model.addNewApartment(model.bufferObj);\n\n    form.hideFormAfterSearch();\n    form.hideForm();\n\n    gallery.openGallery();\n    gallery.showApartments(model.getApartmentById(model.bufferObj.id));\n  };\n\n  form.renderFormToAddNewApartment(searchOnMap, prepareNewApartment);\n}\n\nwindow.main = main;\n//window.initMap = initMap;\n"],"names":["$c1b1a34fae3d3c27$var$setPrototypeOf","o1","p1","Object","setPrototypeOf","o","p","__proto__","defineProperty","module","exports","value","default","arr","Array","isArray","iter","Symbol","iterator","from","TypeError","minLen","$7a2c4c4c44c69707$var$_arrayLikeToArray","n","prototype","toString","call","slice","constructor","name","test","obj","parcelRequire","__esModule","len","length","i","arr2","$f215c72f040a88cf$var$_arrayLikeToArray","Reflect","construct","sham","Proxy","Boolean","valueOf","e","$b9926a5835d271e3$var$getPrototypeOf","getPrototypeOf","self","$e17dad4ea3dafe1a$var$_typeOf","$e17dad4ea3dafe1a$var$_assertThisInitialized","$e17dad4ea3dafe1a$var$_interopRequireDefault","ReferenceError","$665014edacbfe17b$exports","instance","Constructor","$cec85eba0a352189$exports","key","enumerable","configurable","writable","$e560fa9b55d4e311$export$9f048bf86ee2e9d2","id","lat","lng","$e560fa9b55d4e311$export$749b2b9c8bfc5646","title","image","description","$1513330efcaa453c$export$510885540657d15b","ModelObjectHandler","$parcel$interopDefault","this","JSON","parse","localStorage","getItem","setItem","stringify","pnts","aparts","findIndex","apartment","idArr","filter","includes","rectangle","$1513330efcaa453c$var$isInBounds","map","$1513330efcaa453c$var$getPointId","lastPointId","param","_this","bufferObj","status","currentPoints","currentApartments","push","point","param1","south","north","west","east","$74e7f8130373505f$var$_defineProperties","target","props","descriptor","$74e7f8130373505f$exports","protoProps","staticProps","$ae7f60fd48750bb9$exports","subClass","superClass","create","$ae7f60fd48750bb9$var$_setPrototypeOf","$111a013c31e2261e$exports","$111a013c31e2261e$var$_arrayWithHoles","$111a013c31e2261e$var$_iterableToArray","$111a013c31e2261e$var$_unsupportedIterableToArray","$111a013c31e2261e$var$_nonIterableRest","$111a013c31e2261e$var$_interopRequireDefault","$6195f07b5409ba15$exports","$6195f07b5409ba15$var$_arrayWithoutHoles","$6195f07b5409ba15$var$_iterableToArray","$6195f07b5409ba15$var$_unsupportedIterableToArray","$6195f07b5409ba15$var$_nonIterableSpread","$6195f07b5409ba15$var$_interopRequireDefault","$2059300b4b5a348b$exports","Derived","hasNativeReflectConstruct","$2059300b4b5a348b$var$_isNativeReflectConstruct","result","Super","$2059300b4b5a348b$var$_getPrototypeOf","NewTarget","arguments","apply","$2059300b4b5a348b$var$_possibleConstructorReturn","$2059300b4b5a348b$var$_interopRequireDefault","$fa5e60097c09a0bc$export$2e2bcd8739ae039","ids","coords","nodeSize","left","right","depth","m","$fa5e60097c09a0bc$var$select","k","inc","z","Math","log","s","exp","sd","sqrt","max","floor","min","t","j","$fa5e60097c09a0bc$var$swapItem","$fa5e60097c09a0bc$var$swap","tmp","$707caf98a87da6ce$export$2e2bcd8739ae039","minX","minY","maxX","maxY","x","y","stack","axis","pop","nextAxis","$9df6967c88af3876$export$2e2bcd8739ae039","qx","qy","r","r2","$9df6967c88af3876$var$sqDist","ax","ay","bx","by","dx","dy","$4231dcb8a90e6f41$exports","equal","a","b","keys","RegExp","source","flags","hasOwnProperty","$51a5234fa4b60097$var$defaultGetX","$51a5234fa4b60097$var$defaultGetY","$51a5234fa4b60097$export$2e2bcd8739ae039","KDBush","points","getX","getY","ArrayType","Float64Array","IndexArrayType","Uint16Array","Uint32Array","$74ae592c96ec3c1a$var$defaultOptions","minZoom","maxZoom","minPoints","radius","extent","generateId","reduce","$74ae592c96ec3c1a$var$fround","fround","Float32Array","$74ae592c96ec3c1a$export$2e2bcd8739ae039","Supercluster","options","$74ae592c96ec3c1a$var$extend","trees","_options","console","time","timerId","concat","_coordinates","clusters","geometry","coordinates","$74ae592c96ec3c1a$var$lngX","$74ae592c96ec3c1a$var$latY","zoom","Infinity","index","parentId","$74ae592c96ec3c1a$var$getX","$74ae592c96ec3c1a$var$getY","timeEnd","now","Date","_cluster","bbox","minLng","minLat","maxLng","maxLat","easternHem","getClusters","westernHem","tree","_limitZoom","range","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","next","done","c","numPoints","$74ae592c96ec3c1a$var$getClusterJSON","err","return","clusterId","originId","_getOriginId","originZoom","_getOriginZoom","errorMsg","Error","origin","pow","within","children","limit","offset","leaves","_appendLeaves","z2","top","bottom","tile","features","_addTileFeatures","expansionZoom","getChildren","properties","cluster_id","skipped","child","cluster","point_count","isCluster","tags","px","py","$74ae592c96ec3c1a$var$getClusterProperties","f","type","round","neighborIds","numPointsOrigin","neighborId","wx","wy","clusterProperties","_map","_iteratorNormalCompletion1","_didIteratorError1","_iteratorError1","_step1","_iterator1","neighborId1","b1","numPoints2","$74ae592c96ec3c1a$var$createCluster","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","neighborId2","b2","clone","original","y2","PI","atan","count","abbrev","point_count_abbreviated","sin","dest","src","markers","position","Cluster","_position","bounds","marker","google","maps","LatLngBounds","getVisible","AbstractAlgorithm","SuperClusterAlgorithm","_a","_radius","$3ba4e96e132ad9f5$var$__rest","assign","input","getPosition","superCluster","load","state","changed","getZoom","transformCluster","bind","_geometry","$3ba4e96e132ad9f5$export$57ed47926628b770","getLeaves","leaf","LatLng","$3ba4e96e132ad9f5$export$2deda6e6beba3286","ClusterStats","_Math","_Math1","clusterMarkerSum","clusterMarkerCounts","sum","stats","mean","svg","window","btoa","color","Marker","icon","label","text","String","$3ba4e96e132ad9f5$export$f87b0506a2cf0bc","property","type2","type1","$3ba4e96e132ad9f5$export$58bd9bb9fcf3dd4f","OverlayViewSafe","MarkerClusterer","_super","algorithm","setMap","noDraw","forEach","addMarker","render","indexOf","splice","removed","getMap","Map","getProjection","event","trigger","CLUSTERING_BEGIN","ref","calculate","reset","CLUSTERING_END","idleListener","addListener","removeListener","delete","_this1","$e87b96af3e0bc389$export$d49c9aa30b771d59","container","center","mapTypeControl","mapTypeControlOptions","style","MapTypeControlStyle","HORIZONTAL_BAR","ControlPosition","TOP_CENTER","zoomControl","zoomControlOptions","LEFT_CENTER","scaleControl","streetViewControl","streetViewControlOptions","LEFT_TOP","fullscreenControl","mapObservers","eventName","listener","getBounds","toJSON","setTimeout","addPoints","mapsMouseEvent","setZoom","setCenter","document","querySelector","scrollIntoView","findNewPoints","request","Promise","resolve","reject","places","PlacesService","findPlaceFromQuery","results","PlacesServiceStatus","OK","place","location","createMarker","newPointCoordinates","zoomTo","addEventListener","removeEventListener","handler","$ddd4e2c67603474d$export$ace63239d21d36e","Gallery","root","apartments","apart","join","itemsGalleryEl","innerHTML","renderItemsGallery","classList","add","remove","$5b161c8a8d80aadc$export$a7fed597f4b8afd8","Form","inputAddress","inputImageLink","inputDescripton","buttonSearch","stepAdd","onSubmitSearch","onSubmitAdd","rootEl","querySelectorAll","hideErrorSearch","preventDefault","currentTarget","elements","item","hideForm","$7e6258f3559d0f34$export$86fbec116b87613f","App","getElementById","main","model","initModel","app","initApp","getRootMap","gallery","form","getButtonToAddNewApartment","openForm","hideGallery","getAllPoints","visiblePoints","getVisiblePointsId","showApartments","getApartmentsByIdArr","prepareNewPointAndNewApartmentForm","initBuffer","getLastPointId","openFormAfterSearch","renderFormToAddNewApartment","fields","query","then","catch","showErrorSearch","addApartmentToBuffer","addNewApartment","hideFormAfterSearch","openGallery","getApartmentById"],"version":3,"file":"index.5425bd29.js.map"}