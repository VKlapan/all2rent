!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},i={},n=t.parcelRequired7c6;null==n&&((n=function(e){if(e in r)return r[e].exports;if(e in i){var t=i[e];delete i[e];var n={id:e,exports:{}};return r[e]=n,t.call(n.exports,n,n.exports),n.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){i[e]=t},t.parcelRequired7c6=n),n.register("gD1JV",(function(e,t){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){return r(e,t)}})),n.register("8slrw",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){if(Array.isArray(e))return e}})),n.register("7AJDX",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}})),n.register("ifqQW",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}})),n.register("auk6i",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){if(!e)return;if("string"==typeof e)return i.default(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i.default(e,t)};var r,i=(r=n("8NIkP"))&&r.__esModule?r:{default:r}})),n.register("8NIkP",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}})),n.register("kMC0W",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){if(Array.isArray(e))return i.default(e)};var r,i=(r=n("8NIkP"))&&r.__esModule?r:{default:r}})),n.register("8CtQK",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}})),n.register("aTHs7",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}})),n.register("fVNic",(function(e,t){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){return r(e)}})),n.register("jmhxu",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){return!t||"object"!==i.default(t)&&"function"!=typeof t?r.default(e):t};var r=o(n("ds8z5")),i=o(n("l5bVx"));function o(e){return e&&e.__esModule?e:{default:e}}})),n.register("ds8z5",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}})),n.register("l5bVx",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){return e&&e.constructor===Symbol?"symbol":typeof e}}));var o={};Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};var a={};function s(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(e,t,r){t&&s(e.prototype,t);r&&s(e,r);return e};var u={};Object.defineProperty(u,"__esModule",{value:!0}),u.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l.default(e,t)};var c,l=(c=n("gD1JV"))&&c.__esModule?c:{default:c};var f={};Object.defineProperty(f,"__esModule",{value:!0}),f.default=function(e,t){return d.default(e)||p.default(e,t)||h.default(e,t)||m.default()};var d=g(n("8slrw")),p=g(n("7AJDX")),m=g(n("ifqQW")),h=g(n("auk6i"));function g(e){return e&&e.__esModule?e:{default:e}}var v={};Object.defineProperty(v,"__esModule",{value:!0}),v.default=function(e){return y.default(e)||b.default(e)||x.default(e)||_.default()};var y=k(n("kMC0W")),b=k(n("7AJDX")),_=k(n("8CtQK")),x=k(n("auk6i"));function k(e){return e&&e.__esModule?e:{default:e}}var M={};Object.defineProperty(M,"__esModule",{value:!0}),M.default=function(e){var t=w.default();return function(){var r,i=O.default(e);if(t){var n=O.default(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return P.default(this,r)}};var w=j(n("aTHs7")),O=j(n("fVNic")),P=j(n("jmhxu"));function j(e){return e&&e.__esModule?e:{default:e}}var C;function S(e,t,r,i,n,o){if(!(n-i<=r)){var a=i+n>>1;q(e,t,a,i,n,o%2),S(e,t,r,i,a-1,o+1),S(e,t,r,a+1,n,o+1)}}function q(e,t,r,i,n,o){for(;n>i;){if(n-i>600){var a=n-i+1,s=r-i+1,u=Math.log(a),c=.5*Math.exp(2*u/3),l=.5*Math.sqrt(u*c*(a-c)/a)*(s-a/2<0?-1:1);q(e,t,r,Math.max(i,Math.floor(r-s*c/a+l)),Math.min(n,Math.floor(r+(a-s)*c/a+l)),o)}var f=t[2*r+o],d=i,p=n;for(L(e,t,i,r),t[2*n+o]>f&&L(e,t,i,n);d<p;){for(L(e,t,d,p),d++,p--;t[2*d+o]<f;)d++;for(;t[2*p+o]>f;)p--}t[2*i+o]===f?L(e,t,i,p):L(e,t,++p,n),p<=r&&(i=p+1),r<=p&&(n=p-1)}}function L(e,t,r,i){I(e,r,i),I(t,2*r,2*i),I(t,2*r+1,2*i+1)}function I(e,t,r){var i=e[t];e[t]=e[r],e[r]=i}function A(e,t,r,i,n,o,a){for(var s,u,c=[0,e.length-1,0],l=[];c.length;){var f=c.pop(),d=c.pop(),p=c.pop();if(d-p<=a)for(var m=p;m<=d;m++)s=t[2*m],u=t[2*m+1],s>=r&&s<=n&&u>=i&&u<=o&&l.push(e[m]);else{var h=Math.floor((p+d)/2);s=t[2*h],u=t[2*h+1],s>=r&&s<=n&&u>=i&&u<=o&&l.push(e[h]);var g=(f+1)%2;(0===f?r<=s:i<=u)&&(c.push(p),c.push(h-1),c.push(g)),(0===f?n>=s:o>=u)&&(c.push(h+1),c.push(d),c.push(g))}}return l}function E(e,t,r,i,n,o){for(var a=[0,e.length-1,0],s=[],u=n*n;a.length;){var c=a.pop(),l=a.pop(),f=a.pop();if(l-f<=o)for(var d=f;d<=l;d++)T(t[2*d],t[2*d+1],r,i)<=u&&s.push(e[d]);else{var p=Math.floor((f+l)/2),m=t[2*p],h=t[2*p+1];T(m,h,r,i)<=u&&s.push(e[p]);var g=(c+1)%2;(0===c?r-n<=m:i-n<=h)&&(a.push(f),a.push(p-1),a.push(g)),(0===c?r+n>=m:i+n>=h)&&(a.push(p+1),a.push(l),a.push(g))}}return s}function T(e,t,r,i){var n=e-r,o=t-i;return n*n+o*o}C=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;var i,n,o;if(Array.isArray(t)){if((i=t.length)!=r.length)return!1;for(n=i;0!=n--;)if(!e(t[n],r[n]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((i=(o=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(n=i;0!=n--;)if(!Object.prototype.hasOwnProperty.call(r,o[n]))return!1;for(n=i;0!=n--;){var a=o[n];if(!e(t[a],r[a]))return!1}return!0}return t!=t&&r!=r};var z,Z=function(e){return e[0]},N=function(e){return e[1]},R=function(){"use strict";function t(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Z,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:N,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:64,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Float64Array;e(o)(this,t),this.nodeSize=a,this.points=r;for(var u=r.length<65536?Uint16Array:Uint32Array,c=this.ids=new u(r.length),l=this.coords=new s(2*r.length),f=0;f<r.length;f++)c[f]=f,l[2*f]=i(r[f]),l[2*f+1]=n(r[f]);S(c,l,a,0,c.length-1,0)}return e(a)(t,[{key:"range",value:function(e,t,r,i){return A(this.ids,this.coords,e,t,r,i,this.nodeSize)}},{key:"within",value:function(e,t,r){return E(this.ids,this.coords,e,t,r,this.nodeSize)}}]),t}(),B={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(e){return e}},F=Math.fround||(z=new Float32Array(1),function(e){return z[0]=+e,z[0]}),D=function(){"use strict";function t(r){e(o)(this,t),this.options=Q(Object.create(B),r),this.trees=new Array(this.options.maxZoom+1)}return e(a)(t,[{key:"load",value:function(t){var r=this.options,i=r.log,n=r.minZoom,o=r.maxZoom,a=r.nodeSize;i&&console.time("total time");var s="prepare ".concat(t.length," points");i&&console.time(s),this.points=t;for(var u,c,l,d,p,m=[],h=0;h<t.length;h++)t[h].geometry&&m.push((u=t[h],c=h,l=void 0,d=void 0,p=void 0,l=e(f)(u.geometry.coordinates,2),d=l[0],p=l[1],{x:F(G(d)),y:F(K(p)),zoom:1/0,index:c,parentId:-1}));this.trees[o+1]=new R(m,W,X,a,Float32Array),i&&console.timeEnd(s);for(var g=o;g>=n;g--){var v=+Date.now();m=this._cluster(m,g),this.trees[g]=new R(m,W,X,a,Float32Array),i&&console.log("z%d: %d clusters in %dms",g,m.length,+Date.now()-v)}return i&&console.timeEnd("total time"),this}},{key:"getClusters",value:function(e,t){var r=((e[0]+180)%360+360)%360-180,i=Math.max(-90,Math.min(90,e[1])),n=180===e[2]?180:((e[2]+180)%360+360)%360-180,o=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)r=-180,n=180;else if(r>n){var a=this.getClusters([r,i,180,o],t),s=this.getClusters([-180,i,n,o],t);return a.concat(s)}var u=this.trees[this._limitZoom(t)],c=u.range(G(r),K(o),G(n),K(i)),l=[],f=!0,d=!1,p=void 0;try{for(var m,h=c[Symbol.iterator]();!(f=(m=h.next()).done);f=!0){var g=m.value,v=u.points[g];l.push(v.numPoints?J(v):this.points[v.index])}}catch(e){d=!0,p=e}finally{try{f||null==h.return||h.return()}finally{if(d)throw p}}return l}},{key:"getChildren",value:function(e){var t=this._getOriginId(e),r=this._getOriginZoom(e),i="No cluster with the specified id.",n=this.trees[r];if(!n)throw new Error(i);var o=n.points[t];if(!o)throw new Error(i);var a=this.options.radius/(this.options.extent*Math.pow(2,r-1)),s=n.within(o.x,o.y,a),u=[],c=!0,l=!1,f=void 0;try{for(var d,p=s[Symbol.iterator]();!(c=(d=p.next()).done);c=!0){var m=d.value,h=n.points[m];h.parentId===e&&u.push(h.numPoints?J(h):this.points[h.index])}}catch(e){l=!0,f=e}finally{try{c||null==p.return||p.return()}finally{if(l)throw f}}if(0===u.length)throw new Error(i);return u}},{key:"getLeaves",value:function(e,t,r){t=t||10,r=r||0;var i=[];return this._appendLeaves(i,e,t,r,0),i}},{key:"getTile",value:function(e,t,r){var i=this.trees[this._limitZoom(e)],n=Math.pow(2,e),o=this.options,a=o.extent,s=o.radius/a,u=(r-s)/n,c=(r+1+s)/n,l={features:[]};return this._addTileFeatures(i.range((t-s)/n,u,(t+1+s)/n,c),i.points,t,r,n,l),0===t&&this._addTileFeatures(i.range(1-s/n,u,1,c),i.points,n,r,n,l),t===n-1&&this._addTileFeatures(i.range(0,u,s/n,c),i.points,-1,r,n,l),l.features.length?l:null}},{key:"getClusterExpansionZoom",value:function(e){for(var t=this._getOriginZoom(e)-1;t<=this.options.maxZoom;){var r=this.getChildren(e);if(t++,1!==r.length)break;e=r[0].properties.cluster_id}return t}},{key:"_appendLeaves",value:function(e,t,r,i,n){var o=this.getChildren(t),a=!0,s=!1,u=void 0;try{for(var c,l=o[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var f=c.value,d=f.properties;if(d&&d.cluster?n+d.point_count<=i?n+=d.point_count:n=this._appendLeaves(e,d.cluster_id,r,i,n):n<i?n++:e.push(f),e.length===r)break}}catch(e){s=!0,u=e}finally{try{a||null==l.return||l.return()}finally{if(s)throw u}}return n}},{key:"_addTileFeatures",value:function(e,t,r,i,n,o){var a=!0,s=!1,u=void 0;try{for(var c,l=e[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var f=t[c.value],d=f.numPoints,p=void 0,m=void 0,h=void 0;if(d)p=U(f),m=f.x,h=f.y;else{var g=this.points[f.index];p=g.properties,m=G(g.geometry.coordinates[0]),h=K(g.geometry.coordinates[1])}var v={type:1,geometry:[[Math.round(this.options.extent*(m*n-r)),Math.round(this.options.extent*(h*n-i))]],tags:p},y=void 0;d?y=f.id:this.options.generateId?y=f.index:this.points[f.index].id&&(y=this.points[f.index].id),void 0!==y&&(v.id=y),o.features.push(v)}}catch(e){s=!0,u=e}finally{try{a||null==l.return||l.return()}finally{if(s)throw u}}}},{key:"_limitZoom",value:function(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}},{key:"_cluster",value:function(e,t){for(var r=[],i=this.options,n=i.radius,o=i.extent,a=i.reduce,s=i.minPoints,u=n/(o*Math.pow(2,t)),c=0;c<e.length;c++){var l=e[c];if(!(l.zoom<=t)){l.zoom=t;var f=this.trees[t+1],d=f.within(l.x,l.y,u),p=l.numPoints||1,m=p,h=!0,g=!1,v=void 0;try{for(var y,b=d[Symbol.iterator]();!(h=(y=b.next()).done);h=!0){var _=y.value,x=f.points[_];x.zoom>t&&(m+=x.numPoints||1)}}catch(e){g=!0,v=e}finally{try{h||null==b.return||b.return()}finally{if(g)throw v}}if(m>p&&m>=s){var k=l.x*p,M=l.y*p,w=a&&p>1?this._map(l,!0):null,O=(c<<5)+(t+1)+this.points.length,P=!0,j=!1,C=void 0;try{for(var S,q=d[Symbol.iterator]();!(P=(S=q.next()).done);P=!0){var L=S.value,I=f.points[L];if(!(I.zoom<=t)){I.zoom=t;var A=I.numPoints||1;k+=I.x*A,M+=I.y*A,I.parentId=O,a&&(w||(w=this._map(l,!0)),a(w,this._map(I)))}}}catch(e){j=!0,C=e}finally{try{P||null==q.return||q.return()}finally{if(j)throw C}}l.parentId=O,r.push(V(k/m,M/m,O,m,w))}else{r.push(l);var E=!0,T=!1,z=void 0;if(m>1)try{for(var Z,N=d[Symbol.iterator]();!(E=(Z=N.next()).done);E=!0){var R=Z.value,B=f.points[R];B.zoom<=t||(B.zoom=t,r.push(B))}}catch(e){T=!0,z=e}finally{try{E||null==N.return||N.return()}finally{if(T)throw z}}}}}return r}},{key:"_getOriginId",value:function(e){return e-this.points.length>>5}},{key:"_getOriginZoom",value:function(e){return(e-this.points.length)%32}},{key:"_map",value:function(e,t){if(e.numPoints)return t?Q({},e.properties):e.properties;var r=this.points[e.index].properties,i=this.options.map(r);return t&&i===r?Q({},i):i}}]),t}();function V(e,t,r,i,n){return{x:F(e),y:F(t),zoom:1/0,id:r,parentId:-1,numPoints:i,properties:n}}function J(e){return{type:"Feature",id:e.id,properties:U(e),geometry:{type:"Point",coordinates:[(i=e.x,360*(i-.5)),(t=e.y,r=(180-360*t)*Math.PI/180,360*Math.atan(Math.exp(r))/Math.PI-90)]}};var t,r,i}function U(e){var t=e.numPoints,r=t>=1e4?"".concat(Math.round(t/1e3),"k"):t>=1e3?"".concat(Math.round(t/100)/10,"k"):t;return Q(Q({},e.properties),{cluster:!0,cluster_id:e.id,point_count:t,point_count_abbreviated:r})}function G(e){return e/360+.5}function K(e){var t=Math.sin(e*Math.PI/180),r=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return r<0?0:r>1?1:r}function Q(e,t){for(var r in t)e[r]=t[r];return e}function W(e){return e.x}function X(e){return e.y}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function H(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]])}return r}var $=function(){"use strict";function t(r){var i=r.markers,n=r.position;e(o)(this,t),this.markers=i,n&&(n instanceof google.maps.LatLng?this._position=n:this._position=new google.maps.LatLng(n))}return e(a)(t,[{key:"bounds",get:function(){if(0!==this.markers.length||this._position)return this.markers.reduce((function(e,t){return e.extend(t.getPosition())}),new google.maps.LatLngBounds(this._position,this._position))}},{key:"position",get:function(){return this._position||this.bounds.getCenter()}},{key:"count",get:function(){return this.markers.filter((function(e){return e.getVisible()})).length}},{key:"push",value:function(e){this.markers.push(e)}},{key:"delete",value:function(){this.marker&&(this.marker.setMap(null),delete this.marker),this.markers.length=0}}]),t}(),Y=function(){"use strict";function t(r){var i=r.maxZoom,n=void 0===i?16:i;e(o)(this,t),this.maxZoom=n}return e(a)(t,[{key:"noop",value:function(e){var t=e.markers;return ee(t)}}]),t}(),ee=function(e){return e.map((function(e){return new $({position:e.getPosition(),markers:[e]})}))},te=function(t){"use strict";e(u)(i,t);var r=e(M)(i);function i(t){var n;e(o)(this,i);var a=t.maxZoom,s=t.radius,u=void 0===s?60:s,c=H(t,["maxZoom","radius"]);return(n=r.call(this,{maxZoom:a})).superCluster=new D(Object.assign({maxZoom:n.maxZoom,radius:u},c)),n.state={zoom:null},n}return e(a)(i,[{key:"calculate",value:function(t){var r=!1;if(!e(C)(t.markers,this.markers)){r=!0,this.markers=e(v)(t.markers);var i=this.markers.map((function(e){return{type:"Feature",geometry:{type:"Point",coordinates:[e.getPosition().lng(),e.getPosition().lat()]},properties:{marker:e}}}));this.superCluster.load(i)}var n={zoom:t.map.getZoom()};return r||this.state.zoom>this.maxZoom&&n.zoom>this.maxZoom||(r=r||!e(C)(this.state,n)),this.state=n,r&&(this.clusters=this.cluster(t)),{clusters:this.clusters,changed:r}}},{key:"cluster",value:function(e){var t=e.map;return this.superCluster.getClusters([-180,-90,180,90],Math.round(t.getZoom())).map(this.transformCluster.bind(this))}},{key:"transformCluster",value:function(t){var r=t.geometry,i=e(f)(r.coordinates,2),n=i[0],o=i[1],a=t.properties;if(a.cluster)return new $({markers:this.superCluster.getLeaves(a.cluster_id,1/0).map((function(e){return e.properties.marker})),position:new google.maps.LatLng({lat:o,lng:n})});var s=a.marker;return new $({markers:[s],position:s.getPosition()})}}]),i}(Y),re=function t(r,i){"use strict";var n,a;e(o)(this,t),this.markers={sum:r.length};var s=i.map((function(e){return e.count})),u=s.reduce((function(e,t){return e+t}),0);this.clusters={count:i.length,markers:{mean:u/i.length,sum:u,min:(n=Math).min.apply(n,e(v)(s)),max:(a=Math).max.apply(a,e(v)(s))}}},ie=function(){"use strict";function t(){e(o)(this,t)}return e(a)(t,[{key:"render",value:function(e,t){var r=e.count,i=e.position,n=r>Math.max(10,t.clusters.markers.mean)?"#ff0000":"#0000ff",o=window.btoa('\n  <svg fill="'.concat(n,'" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240">\n    <circle cx="120" cy="120" opacity=".6" r="70" />\n    <circle cx="120" cy="120" opacity=".3" r="90" />\n    <circle cx="120" cy="120" opacity=".2" r="110" />\n  </svg>'));return new google.maps.Marker({position:i,icon:{url:"data:image/svg+xml;base64,".concat(o),scaledSize:new google.maps.Size(45,45)},label:{text:String(r),color:"rgba(255,255,255,0.9)",fontSize:"12px"},title:"Cluster of ".concat(r," markers"),zIndex:Number(google.maps.Marker.MAX_ZINDEX)+r})}}]),t}();var ne,oe,ae=function t(){"use strict";e(o)(this,t),function(e,t){for(var r in t.prototype)e.prototype[r]=t.prototype[r]}(t,google.maps.OverlayView)};(oe=ne||(ne={})).CLUSTERING_BEGIN="clusteringbegin",oe.CLUSTERING_END="clusteringend",oe.CLUSTER_CLICK="click";var se=function(e,t,r){r.fitBounds(t.bounds)},ue=function(t){"use strict";e(u)(i,t);var r=e(M)(i);function i(t){var n,a=t.map,s=t.markers,u=void 0===s?[]:s,c=t.algorithm,l=void 0===c?new te({}):c,f=t.renderer,d=void 0===f?new ie:f,p=t.onClusterClick,m=void 0===p?se:p;return e(o)(this,i),(n=r.call(this)).markers=e(v)(u),n.clusters=[],n.algorithm=l,n.renderer=d,n.onClusterClick=m,a&&n.setMap(a),n}return e(a)(i,[{key:"addMarker",value:function(e,t){this.markers.includes(e)||(this.markers.push(e),t||this.render())}},{key:"addMarkers",value:function(e,t){var r=this;e.forEach((function(e){r.addMarker(e,!0)})),t||this.render()}},{key:"removeMarker",value:function(e,t){var r=this.markers.indexOf(e);return-1!==r&&(e.setMap(null),this.markers.splice(r,1),t||this.render(),!0)}},{key:"removeMarkers",value:function(e,t){var r=this,i=!1;return e.forEach((function(e){i=r.removeMarker(e,!0)||i})),i&&!t&&this.render(),i}},{key:"clearMarkers",value:function(e){this.markers.length=0,e||this.render()}},{key:"render",value:function(){var e=this.getMap();if(e instanceof google.maps.Map&&this.getProjection()){google.maps.event.trigger(this,ne.CLUSTERING_BEGIN,this);var t=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()}),r=t.clusters,i=t.changed;(i||null==i)&&(this.reset(),this.clusters=r,this.renderClusters()),google.maps.event.trigger(this,ne.CLUSTERING_END,this)}}},{key:"onAdd",value:function(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}},{key:"onRemove",value:function(){google.maps.event.removeListener(this.idleListener),this.reset()}},{key:"reset",value:function(){this.markers.forEach((function(e){return e.setMap(null)})),this.clusters.forEach((function(e){return e.delete()})),this.clusters=[]}},{key:"renderClusters",value:function(){var e=this,t=new re(this.markers,this.clusters),r=this.getMap();this.clusters.forEach((function(i){if(1===i.markers.length)i.marker=i.markers[0];else{var n=e;i.marker=e.renderer.render(i,t),e.onClusterClick&&i.marker.addListener("click",(function(e){google.maps.event.trigger(n,ne.CLUSTER_CLICK,i),n.onClusterClick(e,i,r)}))}i.marker.setMap(r)}))}}]),i}(ae),ce={};Object.defineProperty(ce,"__esModule",{value:!0}),ce.default=function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r;return e};var le=[{id:1,lat:50.3864813,lng:30.4610184},{id:2,lat:50.3893584,lng:30.4744418},{id:3,lat:50.3766632,lng:30.4545341},{id:4,lat:50.3871685,lng:30.4633948},{id:5,lat:50.3839428,lng:30.4448406},{id:6,lat:50.3950753,lng:30.5020464},{id:7,lat:50.3932314,lng:30.4851096},{id:8,lat:50.3932962,lng:30.4808875},{id:9,lat:50.3850642,lng:30.4800686},{id:10,lat:50.3852944,lng:30.4568793},{id:11,lat:50.383335,lng:30.4582703}],fe=[{id:1,title:"Вільямса, 9",image:"https://pixabay.com/get/g51291aa48a74db643b36349f6032bfc25dea3f25bba60355e4defd442e46e405b1d3b0f495e33ecc7b1864bfacb2c8217c7ac7cb5e6f0b321c90c04a10a4424f_1280.jpg",description:"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Sint tempore quidem aliquam, vero itaque architecto qui minima hic saepe placeat?"},{id:2,title:"Ломоносова, 38",image:"https://pixabay.com/get/ged7e7f616d828f220c9c6666002318ccf75b897ddcc9ad803300a9343877fa5b3b5f08931b68d8a26c2f5c065b08ddff55d18607106bd9f2001cb4eb7a62674d_1280.jpg",description:"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Sint tempore quidem aliquam, vero itaque architecto qui minima hic saepe placeat?"},{id:3,title:"Касьяна, 20",image:"https://pixabay.com/get/gc9cccde1954d9b97920ebd140f67af8e1dc4ad303a6b6ea67ef943dc97a9eac98b52dce52df95fd3f104b6ab409565a1dfe6cde3b46d89bde682db8d665b9f2a_1280.jpg",description:"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Sint tempore quidem aliquam, vero itaque architecto qui minima hic saepe placeat?"},{id:4,title:"Мейтуса, 10",image:"https://pixabay.com/get/g2f2a4f4c46a6ccd96090e4ef351b43d0049cde68388e7b9bc1c5e8d0beb5596e152eda8c559733a752ce37f8f09ed5cf34d8f9be56732af8edc7256926bf588e_1280.jpg",description:"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Sint tempore quidem aliquam, vero itaque architecto qui minima hic saepe placeat?"},{id:5,title:"Луценка, 11",image:"https://pixabay.com/get/g4002af7dcd43bda7197e497d12c83e75617d6645bd670d69690f83a6fa3ecabaa733e6c94a7ce3a3e672d3ad299868a0816a3961dff415fdcaec60f6b92cf2e8_1280.jpg",description:"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Sint tempore quidem aliquam, vero itaque architecto qui minima hic saepe placeat?"},{id:6,title:"Васильківська, 11",image:"https://pixabay.com/get/g8432083f41e6955fce6aab7a4eb18bea3996bca75ebb7481930320bddd0002324893bdbd9a368886b198ef7e5802b529228831c420976a367e94f27ad9293cf4_1280.jpg",description:"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Sint tempore quidem aliquam, vero itaque architecto qui minima hic saepe placeat?"},{id:7,title:"Васильківська, 34",image:"https://pixabay.com/get/g83c70ad71393f4bb386026204c76feae01f1464e3959660ca9f68ec4f227964f8f1142ad0f16d2efb2938a5b6ff2d7db5e839388d9f5096400251f3d04f1c4f8_1280.jpg",description:"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Sint tempore quidem aliquam, vero itaque architecto qui minima hic saepe placeat?"},{id:8,title:"Максимовича, 4",image:"https://pixabay.com/get/g3d1219bc47ede121643114fab342ba3605806fcf7632dfc679b5b5031e6632fdb4ed35def8b1c329cb873d52b92fc10cbbf81b019c9d44fb3aab5cee82b86aad_1280.jpg",description:"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Sint tempore quidem aliquam, vero itaque architecto qui minima hic saepe placeat?"},{id:9,title:"Васильківська, 53",image:"https://pixabay.com/get/g0e06e535cffb0a305a5dadd767c437749b267444942ccd5f9c8a4bf9d0a93b2b7cdc427d420bbfb948dab15aca834407291a98a996e588dca367d668c784b959_1280.jpg",description:"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Sint tempore quidem aliquam, vero itaque architecto qui minima hic saepe placeat?"},{id:10,title:"Вільямса, 11",image:"https://pixabay.com/get/g32061f0ac408b1c126d5a9012f16662cf0f5f5241099afe0c60c5badc746fa862ba752f036a76d699031735780f3426c6ebee4c394c0efd890db3453a745c745_1280.jpg",description:"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Sint tempore quidem aliquam, vero itaque architecto qui minima hic saepe placeat?"},{id:11,title:"Конєва, 10",image:"https://pixabay.com/get/g947ac8f9923e7563cc1de679801e6dbcedceefac954c213f2ae34cd1ca459a64cb06014074bcfe62c85e05c75cad2aa97514b849e0d045bbbafce77781c307e3_1280.jpg",description:"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Sint tempore quidem aliquam, vero itaque architecto qui minima hic saepe placeat?"}],de=new function t(){"use strict";e(o)(this,t),e(ce)(this,"getAllPoints",(function(){return le})),e(ce)(this,"getAllAppartments",(function(){return fe})),e(ce)(this,"getAppartmentById",(function(e){return fe[fe.findIndex((function(t){return t.id===e}))]})),e(ce)(this,"getAppartmentsByIdArr",(function(e){return fe.filter((function(t){return e.includes(t.id)}))})),e(ce)(this,"getVisiblePoints",(function(e,t,r,i){return console.log(e,t,r,i),le.reduce((function(n,o){return o.lng>r&&o.lng<i&&o.lat>e&&o.lat<t&&n.push(o.id),n}),[])}))},pe=de.getAllPoints();de.getAllAppartments();console.log(de.getAppartmentsByIdArr([2,4,10]));var me=document.querySelector(".item--list");window.initMap=function(){var e=null,t=null,r=null,i=null,n=new google.maps.Map(document.getElementById("map"),{zoom:16,center:{lat:50.3864813,lng:30.4610184},mapTypeControl:!0,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.HORIZONTAL_BAR,position:google.maps.ControlPosition.TOP_CENTER},zoomControl:!0,zoomControlOptions:{position:google.maps.ControlPosition.LEFT_CENTER},scaleControl:!0,streetViewControl:!0,streetViewControlOptions:{position:google.maps.ControlPosition.LEFT_TOP},fullscreenControl:!0});n.addListener("click",(function(e){console.log(e.latLng.toJSON())})),n.addListener("bounds_changed",(function(){e=n.getBounds().toJSON().south,t=n.getBounds().toJSON().north,r=n.getBounds().toJSON().west,i=n.getBounds().toJSON().east;var o=de.getVisiblePoints(e,t,r,i);console.log("visible",o),me.innerHTML=de.getAppartmentsByIdArr(o).map((function(e){return'\n    <li class="item">\n    <img class="item--img" src="'.concat(e.image,'" alt="" />\n    <div class="item--details">\n      <h3 class="item--title">').concat(e.title,'</h3>\n      <p class="item--description">').concat(e.description,"</p>\n    </div>\n  </li>\n    ")})).join("")}));var o=new google.maps.InfoWindow,a=pe.map((function(e){var t=e.id,r=e.lat,i=e.lng,n=t.toString(),o=new google.maps.Marker({position:{lat:r,lng:i},label:n});return o.addListener("click",(function(e){console.log("CLICK!!!",o.label,e)})),o}));function s(e){if(e.geometry&&e.geometry.location){var t=new google.maps.Marker({map:n,position:e.geometry.location});google.maps.event.addListener(t,"click",(function(t){console.log(t.latLng.toJSON()),console.log(e.name),o.setContent(e.name||""),o.open(n)}))}}new ue({markers:a,map:n}),new google.maps.places.PlacesService(n).findPlaceFromQuery({query:"Київ Конєва, 10",fields:["name","geometry"]},(function(e,t){if(t===google.maps.places.PlacesServiceStatus.OK){for(var r=0;r<e.length;r++)s(e[r]);n.setCenter(e[0].geometry.location)}}))}}();
//# sourceMappingURL=index.32a71222.js.map
